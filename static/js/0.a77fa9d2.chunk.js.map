{"version":3,"sources":["webpack:///./src/assets/images/dropup-blue.svg?fe79","../node_modules/@reach/auto-id/es/index.js","../node_modules/@reach/visually-hidden/es/index.js","../../src/index.js","../node_modules/@reach/rect/es/index.js","../node_modules/@reach/tooltip/es/index.js","webpack:///./src/assets/images/dropdown.svg?d0dc","webpack:///./src/assets/images/ethereum-logo.svg?ca9a","components/TokenLogo/index.js","components/CurrencyInputPanel/index.js","../node_modules/escape-string-regexp/index.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","d","stroke","SvgDropupBlue","_ref","svgRef","title","props","width","height","viewBox","fill","ref","ForwardRef","forwardRef","id","useId","_useState","useState","setId","useEffect","style","border","clip","margin","padding","overflow","position","React","node","cb","let","rect","rafId","observe","newRect","getBoundingClientRect","rectChanged","a","b","some","prop","requestAnimationFrame","cancelAnimationFrame","render","refs","children","state","didMount","setState","observer","observeRect","onChange","console","warn","didUpdate","_ref3","prevProps","unobserve","willUnmount","_ref4","Rect","Component","undefined","initialState","useRect","nodeRef","setRect","observerRef","useRef","useLayoutEffect","current","defaultProps","_states","obj","IDLE","FOCUSED","VISIBLE","LEAVING_VISIBLE","DISMISSED","chart","initial","states","enter","clearContextId","on","mouseenter","focus","clearTimeout","restTimeout","setTimeout","transition","leave","mousemove","mouseleave","mousedown","blur","rest","selectWithKeyboard","globalMouseMove","leavingVisibleTimer","timecomplete","context","action","newContext","stateDef","nextState","Error","nextDef","subscriptions","forEach","fn","useTooltip","onMouseEnter","onMouseMove","onMouseLeave","onFocus","onKeyDown","onBlur","onMouseDown","DEBUG_STYLE","isVisible","setIsVisible","triggerRef","triggerRect","push","splice","checkStyles","wrapEvent","event","window","__REACH_DISABLE_TOOLTIPS","Tooltip","label","ariaLabel","_useTooltip","trigger","tooltip","Fragment","cloneElement","Children","only","TooltipPopup","Portal","TooltipContent","_ref4$position","positionDefault","useAriaLabel","tooltipRef","tooltipRect","role","getStyles","VisuallyHidden","visibility","styles","left","pageXOffset","top","pageYOffset","collisions","right","innerWidth","bottom","innerHeight","directionUp","points","preserveAspectRatio","TOKEN_ICON_API","address","isAddress","BAD_IMAGES","Image","styled","img","size","Emoji","span","StyledEthereumLogo","EthereumLogo","TokenLogo","error","setError","path","aria-label","toLowerCase","alt","src","onError","GAS_MARGIN","ethers","utils","bigNumberify","SubCurrencySelect","button","theme","flexRowNoWrap","zumthorBlue","royalBlue","InputRow","div","Input","BorderlessInput","salmonRed","inputBackground","StyledBorderlessInput","concreteGray","CurrencySelect","selected","textColor","mercuryGray","darken","Aligner","StyledDropDown","DropDown","InputPanel","flexColumnNoWrap","transparentize","shadowColor","Container","malibuBlue","LabelRow","doveGray","LabelContainer","ErrorSpan","TokenModal","ModalHeader","CloseColor","Close","CloseIcon","SearchContainer","TokenModalInfo","TokenList","TokenModalRow","doveGrey","tokenRowHover","mediaWidth","upToMedium","TokenRowLeft","TokenSymbolGroup","TokenFullName","chaliceGray","TokenRowBalance","TokenRowUsd","TokenRowRight","StyledTokenName","SpinnerWrapper","Spinner","CurrencyInputPanel","onValueChange","allBalances","renderInput","onCurrencySelected","description","extraText","extraTextClickHander","errorMessage","disableUnlock","disableTokenSelect","selectedTokenAddress","showUnlock","value","t","useTranslation","modalIsOpen","setModalIsOpen","tokenContract","useTokenContract","selectedTokenExchangeAddress","useTokenDetails","exchangeAddress","pendingApproval","usePendingApproval","addTransaction","useTransactionAdder","allTokens","useAllTokenDetails","account","useWeb3React","userTokenBalance","useAddressBalance","data-tip","onClick","background","color","borderRadius","marginTop","type","min","step","placeholder","e","onKeyPress","which","keyCode","preventDefault","stopPropagation","async","useUserBalance","estimate","approve","constants","MaxUint256","catch","log","estimatedGas","gasLimit","calculateGasMargin","then","response","approval","symbol","CurrencySelectModal","isOpen","onDismiss","onTokenSelect","searchQuery","setSearchQuery","ethPrice","useETHPriceInUSD","useAllBalances","_usdAmounts","map","k","ethRate","exchangeDetails","tokenBalance","BigNumber","toString","USDRate","times","pow","decimals","usdAmounts","reduce","accumulator","currentValue","tokenList","useMemo","sort","aSymbol","bSymbol","aUSD","bUSD","gt","lt","balance","usdBalance","formatEthBalance","formatTokenBalance","name","filteredTokenList","filter","tokenEntry","inputIsAddress","slice","tokenEntryKey","match","RegExp","escapeStringRegex","m","inputRef","clearInputAndDismiss","Modal","minHeight","maxHeight","initialFocusRef","isMobile","SearchIcon","input","checksummedInput","AddressZero","to","_onTokenSelect","Circle","isNaN","isZero","formatToUsd","matchOperatorsRegex","module","exports","string","TypeError","replace"],"mappings":"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","file":"static/js/0.a77fa9d2.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M11.4673 6L6.23364 1L0.999995 6\",\n  stroke: \"#388DFF\"\n});\n\nvar SvgDropupBlue = function SvgDropupBlue(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 12,\n    height: 7,\n    viewBox: \"0 0 12 7\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgDropupBlue, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/dropup-blue.b96d70e1.svg\";\nexport { ForwardRef as ReactComponent };","import { useState, useEffect } from \"react\";\n\n// Could use UUID but if we hit 9,007,199,254,740,991 unique components over\n// the lifetime of the app before it gets reloaded, I mean ... come on.\n// I don't even know what xillion that is.\n// /me googles\n// Oh duh, quadrillion. Nine quadrillion components. I think we're okay.\nvar id = 0;\nvar genId = function genId() {\n  return ++id;\n};\n\nexport var useId = function useId() {\n  var _useState = useState(null),\n      id = _useState[0],\n      setId = _useState[1];\n\n  useEffect(function () {\n    return setId(genId());\n  }, []);\n  return id;\n};","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nimport React from \"react\";\n\nvar style = {\n  border: 0,\n  clip: \"rect(0 0 0 0)\",\n  height: \"1px\",\n  width: \"1px\",\n  margin: \"-1px\",\n  padding: 0,\n  overflow: \"hidden\",\n  position: \"absolute\"\n};\n\nexport default (function (props) {\n  return React.createElement(\"div\", _extends({ style: style }, props));\n});","let props = [\"width\", \"height\", \"top\", \"right\", \"bottom\", \"left\"];\n\nlet rectChanged = (a = {}, b = {}) => props.some(prop => a[prop] !== b[prop]);\n\nexport default (node, cb) => {\n  let rect;\n  let rafId;\n\n  let observe = () => {\n    let newRect = node.getBoundingClientRect();\n    if (rectChanged(newRect, rect)) {\n      rect = newRect;\n      cb(rect);\n    }\n    rafId = requestAnimationFrame(observe);\n  };\n\n  let unobserve = () => {\n    cancelAnimationFrame(rafId);\n  };\n\n  return { observe, unobserve };\n};\n","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nimport React, { useRef, useState, useLayoutEffect } from \"react\";\nimport Component from \"@reach/component-component\";\nimport observeRect from \"@reach/observe-rect\";\nimport { func, bool } from \"prop-types\";\n\nvar render = function render(_ref) {\n  var refs = _ref.refs,\n      children = _ref.props.children,\n      rect = _ref.state.rect;\n  return children({ ref: function ref(node) {\n      return refs.node = node;\n    }, rect: rect });\n};\n\nvar didMount = function didMount(_ref2) {\n  var setState = _ref2.setState,\n      refs = _ref2.refs,\n      props = _ref2.props;\n\n  if (!refs.node) {\n    console.warn(\"You need to place the ref\");\n    return;\n  }\n  refs.observer = observeRect(refs.node, function (rect) {\n    props.onChange && props.onChange(rect);\n    setState({ rect: rect });\n  });\n  if (props.observe) {\n    refs.observer.observe();\n  }\n};\n\nvar didUpdate = function didUpdate(_ref3) {\n  var refs = _ref3.refs,\n      props = _ref3.props,\n      prevProps = _ref3.prevProps;\n\n  if (props.observe && !prevProps.observe) {\n    refs.observer.observe();\n  } else if (!props.observe && prevProps.observe) {\n    refs.observer.unobserve();\n  }\n};\n\nvar willUnmount = function willUnmount(_ref4) {\n  var refs = _ref4.refs;\n\n  refs.observer.unobserve();\n};\n\nvar Rect = function Rect(props) {\n  return React.createElement(Component, _extends({}, props, {\n    refs: {\n      node: undefined,\n      observer: undefined\n    },\n    initialState: {\n      rect: undefined\n    },\n    didMount: didMount,\n    didUpdate: didUpdate,\n    willUnmount: willUnmount,\n    render: render\n  }));\n};\n\nprocess.env.NODE_ENV !== \"production\" ? Rect.propTypes = {\n  children: func,\n  observe: bool,\n  onChange: func\n} : void 0;\n\nRect.defaultProps = {\n  observe: true\n};\n\nexport function useRect(nodeRef) {\n  var observe = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  var _useState = useState(null),\n      rect = _useState[0],\n      setRect = _useState[1];\n\n  var observerRef = useRef(null);\n  useLayoutEffect(function () {\n    if (!observerRef.current) {\n      observerRef.current = observeRect(nodeRef.current, setRect);\n    }\n    if (observe) {\n      observerRef.current.observe();\n    }\n    return function () {\n      return observerRef.current.unobserve();\n    };\n  }, [observe]);\n  return rect;\n}\n\nexport default Rect;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _states;\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\n////////////////////////////////////////////////////////////////////////////////\n// Welcome to @reach/tooltip!\n//\n// Quick definitions:\n//\n// - \"on rest\" or \"rested on\": describes when the element receives mouse hover\n//   after a short delay (and hopefully soon, touch longpress).\n//\n// - \"activation\": describes a mouse click, keyboard enter, or keyboard space.\n//\n// Only one tooltip can be visible at a time, so we use a global state chart to\n// describe the various states and transitions between states that are\n// possible. With the all the timeouts involved with tooltips it's important to\n// \"make impossible states impossible\" with a state machine.\n//\n// It's also okay to use these module globals because you don't server render\n// tooltips. None of the state is changed outside of user events.\n//\n// There are a few features that are important to understand.\n//\n// 1. Tooltips don't show up until the user has rested on one, we don't\n//    want tooltips popupping up as you move your mouse around the page.\n//\n// 2. Once any tooltip becomes visible, other tooltips nearby should skip\n//    resting and display immediately.\n//\n// 3. Tooltips stick around for a little bit after blur/mouseleave.\n//\n// TODO: Research longpress tooltips on Android, iOS\n// - Probably want to position it by default above, since your thumb\n//   is below and would cover it\n// - I'm thinking after longpress, display the tooltip and cancel any click\n//   events. Then on touchend, so they can read it display the tooltip for\n//   a little while longer in case their hand was obstructing the tooltip.\n\n/* eslint-disable default-case */\n\nimport React, { Fragment, cloneElement, Children, useState, useRef, forwardRef, useEffect } from \"react\";\nimport { useId } from \"@reach/auto-id\";\nimport { wrapEvent, checkStyles } from \"@reach/utils\";\nimport Portal from \"@reach/portal\";\nimport VisuallyHidden from \"@reach/visually-hidden\";\nimport { useRect } from \"@reach/rect\";\nimport { node, string, func } from \"prop-types\";\n\n////////////////////////////////////////////////////////////////////////////////\n// ~The states~\n\n// nothing goin' on\nvar IDLE = \"idle\";\n\n// we're considering showing the tooltip, but we're gonna wait a sec\nvar FOCUSED = \"focused\";\n\n// IT'S ON\nvar VISIBLE = \"visible\";\n\n// Focus has left, but we want to keep it visible for a sec\nvar LEAVING_VISIBLE = \"leavingVisible\";\n\n// The user clicked the tool, so we want to hide the thing, we can't just use\n// IDLE because we need to ignore mousemove, etc.\nvar DISMISSED = \"dismissed\";\n\nvar chart = {\n  initial: IDLE,\n  states: (_states = {}, _states[IDLE] = {\n    enter: clearContextId,\n    on: {\n      mouseenter: FOCUSED,\n      focus: VISIBLE\n    }\n  }, _states[FOCUSED] = {\n    enter: startRestTimer,\n    leave: clearRestTimer,\n    on: {\n      mousemove: FOCUSED,\n      mouseleave: IDLE,\n      mousedown: DISMISSED,\n      blur: IDLE,\n      rest: VISIBLE\n    }\n  }, _states[VISIBLE] = {\n    on: {\n      focus: FOCUSED,\n      mouseenter: FOCUSED,\n      mouseleave: LEAVING_VISIBLE,\n      blur: LEAVING_VISIBLE,\n      mousedown: DISMISSED,\n      selectWithKeyboard: DISMISSED,\n      globalMouseMove: LEAVING_VISIBLE\n    }\n  }, _states[LEAVING_VISIBLE] = {\n    enter: startLeavingVisibleTimer,\n    leave: function leave() {\n      clearLeavingVisibleTimer();\n      clearContextId();\n    },\n    on: {\n      mouseenter: VISIBLE,\n      focus: VISIBLE,\n      timecomplete: IDLE\n    }\n  }, _states[DISMISSED] = {\n    leave: function leave() {\n      // allows us to come on back later w/o entering something else first\n      context.id = null;\n    },\n    on: {\n      mouseleave: IDLE,\n      blur: IDLE\n    }\n  }, _states)\n};\n\n// chart context allows us to persist some data around, in Tooltip all we use\n// is the id of the current tooltip being interacted with.\nvar context = { id: null };\nvar state = chart.initial;\n\n////////////////////////////////////////////////////////////////////////////////\n// Finds the next state from the current state + action. If the chart doesn't\n// describe that transition, it will throw.\n//\n// It also manages lifecycles of the machine, (enter/leave hooks on the state\n// chart)\nfunction transition(action, newContext) {\n  var stateDef = chart.states[state];\n  var nextState = stateDef.on[action];\n\n  // Really useful for debugging\n  // console.log({ action, state, nextState, contextId: context.id });\n\n  if (!nextState) {\n    throw new Error(\"Unknown state for action \\\"\" + action + \"\\\" from state \\\"\" + state + \"\\\"\");\n  }\n\n  if (stateDef.leave) {\n    stateDef.leave();\n  }\n\n  if (newContext) {\n    context = newContext;\n  }\n\n  var nextDef = chart.states[nextState];\n  if (nextDef.enter) {\n    nextDef.enter();\n  }\n\n  state = nextState;\n  notify();\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// Subscriptions:\n//\n// We could require apps to render a <TooltipProvider> around the app and use\n// React context to notify Tooltips of changes to our state machine, instead\n// we manage subscriptions ourselves and simplify the Tooltip API.\n//\n// Maybe if default context could take a hook (instead of just a static value)\n// that was rendered at the root for us, that'd be cool! But it doesn't.\nvar subscriptions = [];\n\nfunction subscribe(fn) {\n  subscriptions.push(fn);\n  return function () {\n    subscriptions.splice(subscriptions.indexOf(fn), 1);\n  };\n}\n\nfunction notify() {\n  subscriptions.forEach(function (fn) {\n    return fn(state, context);\n  });\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// Timeouts:\n\n// Manages when the user \"rests\" on an element. Keeps the interface from being\n// flashing tooltips all the time as the user moves the mouse around the screen.\nvar restTimeout = void 0;\n\nfunction startRestTimer() {\n  clearTimeout(restTimeout);\n  restTimeout = setTimeout(function () {\n    return transition(\"rest\");\n  }, 100);\n}\n\nfunction clearRestTimer() {\n  clearTimeout(restTimeout);\n}\n\n// Manages the delay to hide the tooltip after rest leaves.\nvar leavingVisibleTimer = void 0;\n\nfunction startLeavingVisibleTimer() {\n  clearTimeout(leavingVisibleTimer);\n  leavingVisibleTimer = setTimeout(function () {\n    return transition(\"timecomplete\");\n  }, 500);\n}\n\nfunction clearLeavingVisibleTimer() {\n  clearTimeout(leavingVisibleTimer);\n}\n\n// allows us to come on back later w/o entering something else first after the\n// user leaves or dismisses\nfunction clearContextId() {\n  context.id = null;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// THE HOOK! It's about time we got to the goods!\nexport function useTooltip() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseMove = _ref.onMouseMove,\n      onMouseLeave = _ref.onMouseLeave,\n      onFocus = _ref.onFocus,\n      onBlur = _ref.onBlur,\n      onKeyDown = _ref.onKeyDown,\n      onMouseDown = _ref.onMouseDown,\n      ref = _ref.ref,\n      DEBUG_STYLE = _ref.DEBUG_STYLE;\n\n  var id = \"tooltip:\" + useId();\n\n  var _useState = useState(DEBUG_STYLE ? true : context.id === id && state === VISIBLE),\n      isVisible = _useState[0],\n      setIsVisible = _useState[1];\n\n  // hopefully they always pass a ref if they ever pass one\n\n\n  var triggerRef = ref || useRef();\n  var triggerRect = useRect(triggerRef, isVisible);\n\n  useEffect(function () {\n    return subscribe(function () {\n      if (context.id === id && (state === VISIBLE || state === LEAVING_VISIBLE)) {\n        setIsVisible(true);\n      } else {\n        setIsVisible(false);\n      }\n    });\n  }, [id]);\n\n  useEffect(function () {\n    return checkStyles(\"tooltip\");\n  });\n\n  var handleMouseEnter = function handleMouseEnter() {\n    switch (state) {\n      case IDLE:\n      case VISIBLE:\n      case LEAVING_VISIBLE:\n        {\n          transition(\"mouseenter\", { id: id });\n        }\n    }\n  };\n\n  var handleMouseMove = function handleMouseMove() {\n    switch (state) {\n      case FOCUSED:\n        {\n          transition(\"mousemove\", { id: id });\n        }\n    }\n  };\n\n  var handleFocus = function handleFocus(event) {\n    if (window.__REACH_DISABLE_TOOLTIPS) return;\n    switch (state) {\n      case IDLE:\n      case VISIBLE:\n      case LEAVING_VISIBLE:\n        {\n          transition(\"focus\", { id: id });\n        }\n    }\n  };\n\n  var handleMouseLeave = function handleMouseLeave() {\n    switch (state) {\n      case FOCUSED:\n      case VISIBLE:\n      case DISMISSED:\n        {\n          transition(\"mouseleave\");\n        }\n    }\n  };\n\n  var handleBlur = function handleBlur() {\n    // Allow quick click from one tool to another\n    if (context.id !== id) return;\n    switch (state) {\n      case FOCUSED:\n      case VISIBLE:\n      case DISMISSED:\n        {\n          transition(\"blur\");\n        }\n    }\n  };\n\n  var handleMouseDown = function handleMouseDown() {\n    // Allow quick click from one tool to another\n    if (context.id !== id) return;\n    switch (state) {\n      case FOCUSED:\n      case VISIBLE:\n        {\n          transition(\"mousedown\");\n        }\n    }\n  };\n\n  var handleKeyDown = function handleKeyDown(event) {\n    if (event.key === \"Enter\" || event.key === \" \") {\n      switch (state) {\n        case VISIBLE:\n          {\n            transition(\"selectWithKeyboard\");\n          }\n      }\n    }\n  };\n\n  var trigger = {\n    \"aria-describedby\": id,\n    \"data-reach-tooltip-trigger\": \"\",\n    ref: triggerRef,\n    onMouseEnter: wrapEvent(onMouseEnter, handleMouseEnter),\n    onMouseMove: wrapEvent(onMouseMove, handleMouseMove),\n    onFocus: wrapEvent(onFocus, handleFocus),\n    onBlur: wrapEvent(onFocus, handleBlur),\n    onMouseLeave: wrapEvent(onMouseLeave, handleMouseLeave),\n    onKeyDown: wrapEvent(onKeyDown, handleKeyDown),\n    onMouseDown: wrapEvent(onMouseDown, handleMouseDown)\n  };\n\n  var tooltip = {\n    id: id,\n    triggerRect: triggerRect,\n    isVisible: isVisible\n  };\n\n  return [trigger, tooltip, isVisible];\n}\n\n////////////////////////////////////////////////////////////////////////////////\nexport default function Tooltip(_ref2) {\n  var children = _ref2.children,\n      label = _ref2.label,\n      ariaLabel = _ref2.ariaLabel,\n      DEBUG_STYLE = _ref2.DEBUG_STYLE,\n      rest = _objectWithoutProperties(_ref2, [\"children\", \"label\", \"ariaLabel\", \"DEBUG_STYLE\"]);\n\n  var _useTooltip = useTooltip({ DEBUG_STYLE: DEBUG_STYLE }),\n      trigger = _useTooltip[0],\n      tooltip = _useTooltip[1];\n\n  return React.createElement(\n    Fragment,\n    null,\n    cloneElement(Children.only(children), trigger),\n    React.createElement(TooltipPopup, _extends({\n      label: label,\n      ariaLabel: ariaLabel\n    }, tooltip, rest))\n  );\n}\n\nprocess.env.NODE_ENV !== \"production\" ? Tooltip.propTypes = {\n  children: node.isRequired,\n  label: node.isRequired,\n  ariaLabel: string\n} : void 0;\n\n////////////////////////////////////////////////////////////////////////////////\nvar TooltipPopup = forwardRef(function TooltipPopup(_ref3, forwardRef) {\n  var label = _ref3.label,\n      ariaLabel = _ref3.ariaLabel,\n      position = _ref3.position,\n      isVisible = _ref3.isVisible,\n      id = _ref3.id,\n      triggerRect = _ref3.triggerRect,\n      rest = _objectWithoutProperties(_ref3, [\"label\", \"ariaLabel\", \"position\", \"isVisible\", \"id\", \"triggerRect\"]);\n\n  return isVisible ? React.createElement(\n    Portal,\n    null,\n    React.createElement(TooltipContent, _extends({\n      label: label,\n      ariaLabel: ariaLabel,\n      position: position,\n      isVisible: isVisible,\n      id: id,\n      triggerRect: triggerRect,\n      ref: forwardRef\n    }, rest))\n  ) : null;\n});\n\nexport { TooltipPopup };\nprocess.env.NODE_ENV !== \"production\" ? TooltipPopup.propTypes = {\n  label: node.isRequired,\n  ariaLabel: string,\n  position: func\n} : void 0;\n\n// Need a separate component so that useRect works inside the portal\nvar TooltipContent = forwardRef(function TooltipContent(_ref4, forwardRef) {\n  var label = _ref4.label,\n      ariaLabel = _ref4.ariaLabel,\n      _ref4$position = _ref4.position,\n      position = _ref4$position === undefined ? positionDefault : _ref4$position,\n      isVisible = _ref4.isVisible,\n      id = _ref4.id,\n      triggerRect = _ref4.triggerRect,\n      style = _ref4.style,\n      rest = _objectWithoutProperties(_ref4, [\"label\", \"ariaLabel\", \"position\", \"isVisible\", \"id\", \"triggerRect\", \"style\"]);\n\n  var useAriaLabel = ariaLabel != null;\n  var tooltipRef = useRef();\n  var tooltipRect = useRect(tooltipRef, isVisible);\n  return React.createElement(\n    Fragment,\n    null,\n    React.createElement(\"div\", _extends({\n      \"data-reach-tooltip\": true,\n      role: useAriaLabel ? undefined : \"tooltip\",\n      id: useAriaLabel ? undefined : id,\n      children: label,\n      style: _extends({}, style, getStyles(position, triggerRect, tooltipRect)),\n      ref: function ref(node) {\n        tooltipRef.current = node;\n        if (forwardRef) forwardRef(node);\n      }\n    }, rest)),\n    useAriaLabel && React.createElement(\n      VisuallyHidden,\n      { role: \"tooltip\", id: id },\n      ariaLabel\n    )\n  );\n});\n\n// feels awkward when it's perfectly aligned w/ the trigger\nvar OFFSET = 8;\n\nvar getStyles = function getStyles(position, triggerRect, tooltipRect) {\n  var haventMeasuredTooltipYet = !tooltipRect;\n  if (haventMeasuredTooltipYet) {\n    return { visibility: \"hidden\" };\n  }\n  return position(triggerRect, tooltipRect);\n};\n\nvar positionDefault = function positionDefault(triggerRect, tooltipRect) {\n  var styles = {\n    left: triggerRect.left + window.pageXOffset + \"px\",\n    top: triggerRect.top + triggerRect.height + window.pageYOffset + \"px\"\n  };\n\n  var collisions = {\n    top: triggerRect.top - tooltipRect.height < 0,\n    right: window.innerWidth < triggerRect.left + tooltipRect.width,\n    bottom: window.innerHeight < triggerRect.bottom + tooltipRect.height + OFFSET,\n    left: triggerRect.left - tooltipRect.width < 0\n  };\n\n  var directionRight = collisions.right && !collisions.left;\n  var directionUp = collisions.bottom && !collisions.top;\n\n  return _extends({}, styles, {\n    left: directionRight ? triggerRect.right - tooltipRect.width + window.pageXOffset + \"px\" : triggerRect.left + window.pageXOffset + \"px\",\n    top: directionUp ? triggerRect.top - OFFSET - tooltipRect.height + window.pageYOffset + \"px\" : triggerRect.top + OFFSET + triggerRect.height + window.pageYOffset + \"px\"\n  });\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M0.97168 1L6.20532 6L11.439 1\",\n  stroke: \"#AEAEAE\"\n});\n\nvar SvgDropdown = function SvgDropdown(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 12,\n    height: 7,\n    viewBox: \"0 0 12 7\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgDropdown, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/dropdown.7d32d2fa.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", null, React.createElement(\"polygon\", {\n  fill: \"#343434\",\n  points: \"127.9611 0 125.1661 9.5 125.1661 285.168 127.9611 287.958 255.9231 212.32\"\n}), React.createElement(\"polygon\", {\n  fill: \"#8C8C8C\",\n  points: \"127.962 0 0 212.32 127.962 287.959 127.962 154.158\"\n}), React.createElement(\"polygon\", {\n  fill: \"#3C3C3B\",\n  points: \"127.9611 312.1866 126.3861 314.1066 126.3861 412.3056 127.9611 416.9066 255.9991 236.5866\"\n}), React.createElement(\"polygon\", {\n  fill: \"#8C8C8C\",\n  points: \"127.962 416.9052 127.962 312.1852 0 236.5852\"\n}), React.createElement(\"polygon\", {\n  fill: \"#141414\",\n  points: \"127.9611 287.9577 255.9211 212.3207 127.9611 154.1587\"\n}), React.createElement(\"polygon\", {\n  fill: \"#393939\",\n  points: \"0.0009 212.3208 127.9609 287.9578 127.9609 154.1588\"\n}));\n\nvar SvgEthereumLogo = function SvgEthereumLogo(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: \"256px\",\n    height: \"417px\",\n    viewBox: \"0 0 256 417\",\n    preserveAspectRatio: \"xMidYMid\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgEthereumLogo, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/ethereum-logo.802c6eac.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from 'react'\nimport styled from 'styled-components'\nimport { isAddress } from '../../utils'\n\nimport { ReactComponent as EthereumLogo } from '../../assets/images/ethereum-logo.svg'\n\nconst TOKEN_ICON_API = address =>\n  `https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/${isAddress(\n    address\n  )}/logo.png`\nconst BAD_IMAGES = {}\n\nconst Image = styled.img`\n  width: ${({ size }) => size};\n  height: ${({ size }) => size};\n  background-color: white;\n  border-radius: 1rem;\n`\n\nconst Emoji = styled.span`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: ${({ size }) => size};\n  height: ${({ size }) => size};\n`\n\nconst StyledEthereumLogo = styled(EthereumLogo)`\n  width: ${({ size }) => size};\n  height: ${({ size }) => size};\n`\n\nexport default function TokenLogo({ address, size = '1rem', ...rest }) {\n  const [error, setError] = useState(false)\n\n  let path = ''\n  if (address === 'ETH') {\n    return <StyledEthereumLogo size={size} />\n  } else if (!error && !BAD_IMAGES[address]) {\n    path = TOKEN_ICON_API(address.toLowerCase())\n  } else {\n    return (\n      <Emoji {...rest} size={size}>\n        <span role=\"img\" aria-label=\"Thinking\">\n          🤔\n        </span>\n      </Emoji>\n    )\n  }\n\n  return (\n    <Image\n      {...rest}\n      alt={address}\n      src={path}\n      size={size}\n      onError={() => {\n        BAD_IMAGES[address] = true\n        setError(true)\n      }}\n    />\n  )\n}\n","import React, { useState, useRef, useMemo } from 'react'\nimport { Link } from 'react-router-dom'\nimport { useTranslation } from 'react-i18next'\nimport { ethers } from 'ethers'\nimport { BigNumber } from '@uniswap/sdk'\nimport styled from 'styled-components'\nimport escapeStringRegex from 'escape-string-regexp'\nimport { darken } from 'polished'\nimport Tooltip from '@reach/tooltip'\nimport '@reach/tooltip/styles.css'\nimport { isMobile } from 'react-device-detect'\n\nimport { BorderlessInput } from '../../theme'\nimport { useWeb3React, useTokenContract } from '../../hooks'\nimport { isAddress, calculateGasMargin, formatToUsd, formatTokenBalance, formatEthBalance } from '../../utils'\nimport { ReactComponent as DropDown } from '../../assets/images/dropdown.svg'\nimport Modal from '../Modal'\nimport TokenLogo from '../TokenLogo'\nimport SearchIcon from '../../assets/images/magnifying-glass.svg'\nimport { useTransactionAdder, usePendingApproval } from '../../contexts/Transactions'\nimport { useTokenDetails, useAllTokenDetails } from '../../contexts/Tokens'\nimport { useAddressBalance } from '../../contexts/Balances'\nimport { ReactComponent as Close } from '../../assets/images/x.svg'\nimport { transparentize } from 'polished'\nimport { Spinner } from '../../theme'\nimport Circle from '../../assets/images/circle-grey.svg'\nimport { useETHPriceInUSD, useAllBalances } from '../../contexts/Balances'\n\nconst GAS_MARGIN = ethers.utils.bigNumberify(1000)\n\nconst SubCurrencySelect = styled.button`\n  ${({ theme }) => theme.flexRowNoWrap}\n  padding: 4px 50px 4px 15px;\n  margin-right: -40px;\n  line-height: 0;\n  height: 2rem;\n  align-items: center;\n  border-radius: 2.5rem;\n  outline: none;\n  cursor: pointer;\n  user-select: none;\n  background: ${({ theme }) => theme.zumthorBlue};\n  border: 1px solid ${({ theme }) => theme.royalBlue};\n  color: ${({ theme }) => theme.royalBlue};\n`\n\nconst InputRow = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap}\n  align-items: center;\n\n  padding: 0.25rem 0.85rem 0.75rem;\n`\n\nconst Input = styled(BorderlessInput)`\n  font-size: 1.5rem;\n  color: ${({ error, theme }) => error && theme.salmonRed};\n  background-color: ${({ theme }) => theme.inputBackground};\n  -moz-appearance: textfield;\n`\n\nconst StyledBorderlessInput = styled(BorderlessInput)`\n  min-height: 2.5rem;\n  flex-shrink: 0;\n  text-align: left;\n  padding-left: 1.6rem;\n  background-color: ${({ theme }) => theme.concreteGray};\n`\n\nconst CurrencySelect = styled.button`\n  align-items: center;\n  font-size: 1rem;\n  color: ${({ selected, theme }) => (selected ? theme.textColor : theme.royalBlue)};\n  height: 2rem;\n  border: 1px solid ${({ selected, theme }) => (selected ? theme.mercuryGray : theme.royalBlue)};\n  border-radius: 2.5rem;\n  background-color: ${({ selected, theme }) => (selected ? theme.concreteGray : theme.zumthorBlue)};\n  outline: none;\n  cursor: pointer;\n  user-select: none;\n\n  :hover {\n    border: 1px solid\n      ${({ selected, theme }) => (selected ? darken(0.1, theme.mercuryGray) : darken(0.1, theme.royalBlue))};\n  }\n\n  :focus {\n    border: 1px solid ${({ theme }) => darken(0.1, theme.royalBlue)};\n  }\n\n  :active {\n    background-color: ${({ theme }) => theme.zumthorBlue};\n  }\n`\n\nconst Aligner = styled.span`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n`\n\nconst StyledDropDown = styled(DropDown)`\n  margin: 0 0.5rem 0 0.5rem;\n  height: 35%;\n\n  path {\n    stroke: ${({ selected, theme }) => (selected ? theme.textColor : theme.royalBlue)};\n  }\n`\n\nconst InputPanel = styled.div`\n  ${({ theme }) => theme.flexColumnNoWrap}\n  box-shadow: 0 4px 8px 0 ${({ theme }) => transparentize(0.95, theme.shadowColor)};\n  position: relative;\n  border-radius: 1.25rem;\n  background-color: ${({ theme }) => theme.inputBackground};\n  z-index: 1;\n`\n\nconst Container = styled.div`\n  border-radius: 1.25rem;\n  border: 1px solid ${({ error, theme }) => (error ? theme.salmonRed : theme.mercuryGray)};\n\n  background-color: ${({ theme }) => theme.inputBackground};\n  :focus-within {\n    border: 1px solid ${({ theme }) => theme.malibuBlue};\n  }\n`\n\nconst LabelRow = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap}\n  align-items: center;\n  color: ${({ theme }) => theme.doveGray};\n  font-size: 0.75rem;\n  line-height: 1rem;\n  padding: 0.75rem 1rem;\n  span:hover {\n    cursor: pointer;\n    color: ${({ theme }) => darken(0.2, theme.doveGray)};\n  }\n`\n\nconst LabelContainer = styled.div`\n  flex: 1 1 auto;\n  width: 0;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n`\n\nconst ErrorSpan = styled.span`\n  color: ${({ error, theme }) => error && theme.salmonRed};\n  :hover {\n    cursor: pointer;\n    color: ${({ error, theme }) => error && darken(0.1, theme.salmonRed)};\n  }\n`\n\nconst TokenModal = styled.div`\n  ${({ theme }) => theme.flexColumnNoWrap}\n  width: 100%;\n`\n\nconst ModalHeader = styled.div`\n  position: relative;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 0px 0px 0px 1rem;\n  height: 60px;\n`\n\nconst CloseColor = styled(Close)`\n  path {\n    stroke: ${({ theme }) => theme.textColor};\n  }\n`\n\nconst CloseIcon = styled.div`\n  position: absolute;\n  right: 1rem;\n  top: 14px;\n  &:hover {\n    cursor: pointer;\n    opacity: 0.6;\n  }\n`\n\nconst SearchContainer = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap}\n  justify-content: flex-start;\n  padding: 0.5rem 1.5rem;\n  background-color: ${({ theme }) => theme.concreteGray};\n`\n\nconst TokenModalInfo = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap}\n  align-items: center;\n  padding: 1rem 1.5rem;\n  margin: 0.25rem 0.5rem;\n  justify-content: center;\n  user-select: none;\n`\n\nconst TokenList = styled.div`\n  flex-grow: 1;\n  height: 100%;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n`\n\nconst TokenModalRow = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap}\n  align-items: center;\n  justify-content: space-between;\n  padding: 1rem;\n  cursor: pointer;\n  user-select: none;\n\n  #symbol {\n    color: ${({ theme }) => theme.doveGrey};\n  }\n\n  :hover {\n    background-color: ${({ theme }) => theme.tokenRowHover};\n  }\n\n  ${({ theme }) => theme.mediaWidth.upToMedium`\n    padding: 0.8rem 1rem;\n    padding-right: 2rem;\n  `}\n`\n\nconst TokenRowLeft = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap}\n  align-items : center;\n`\n\nconst TokenSymbolGroup = styled.div`\n  ${({ theme }) => theme.flexColumnNoWrap};\n  margin-left: 1rem;\n`\n\nconst TokenFullName = styled.div`\n  color: ${({ theme }) => theme.chaliceGray};\n`\n\nconst TokenRowBalance = styled.div`\n  font-size: 1rem;\n  line-height: 20px;\n`\n\nconst TokenRowUsd = styled.div`\n  font-size: 1rem;\n  line-height: 1.5rem;\n  color: ${({ theme }) => theme.chaliceGray};\n`\n\nconst TokenRowRight = styled.div`\n  ${({ theme }) => theme.flexColumnNoWrap};\n  align-items: flex-end;\n`\n\nconst StyledTokenName = styled.span`\n  margin: 0 0.25rem 0 0.25rem;\n`\n\nconst SpinnerWrapper = styled(Spinner)`\n  margin: 0 0.25rem 0 0.25rem;\n  color: ${({ theme }) => theme.chaliceGray};\n  opacity: 0.6;\n`\n\nexport default function CurrencyInputPanel({\n  onValueChange = () => {},\n  allBalances,\n  renderInput,\n  onCurrencySelected = () => {},\n  title,\n  description,\n  extraText,\n  extraTextClickHander = () => {},\n  errorMessage,\n  disableUnlock,\n  disableTokenSelect,\n  selectedTokenAddress = '',\n  showUnlock,\n  value\n}) {\n  const { t } = useTranslation()\n\n  const [modalIsOpen, setModalIsOpen] = useState(false)\n\n  const tokenContract = useTokenContract(selectedTokenAddress)\n  const { exchangeAddress: selectedTokenExchangeAddress } = useTokenDetails(selectedTokenAddress)\n\n  const pendingApproval = usePendingApproval(selectedTokenAddress)\n\n  const addTransaction = useTransactionAdder()\n\n  const allTokens = useAllTokenDetails()\n\n  const { account } = useWeb3React()\n\n  const userTokenBalance = useAddressBalance(account, selectedTokenAddress)\n\n  function renderUnlockButton() {\n    if (disableUnlock || !showUnlock || selectedTokenAddress === 'ETH' || !selectedTokenAddress) {\n      return null\n    } else {\n      if (!pendingApproval) {\n        return (\n          <SubCurrencySelect\n            onClick={async () => {\n              let estimatedGas\n              let useUserBalance = false\n              estimatedGas = await tokenContract.estimate\n                .approve(selectedTokenExchangeAddress, ethers.constants.MaxUint256)\n                .catch(e => {\n                  console.log('Error setting max token approval.')\n                })\n              if (!estimatedGas) {\n                // general fallback for tokens who restrict approval amounts\n                estimatedGas = await tokenContract.estimate.approve(selectedTokenExchangeAddress, userTokenBalance)\n                useUserBalance = true\n              }\n              tokenContract\n                .approve(\n                  selectedTokenExchangeAddress,\n                  useUserBalance ? userTokenBalance : ethers.constants.MaxUint256,\n                  {\n                    gasLimit: calculateGasMargin(estimatedGas, GAS_MARGIN)\n                  }\n                )\n                .then(response => {\n                  addTransaction(response, { approval: selectedTokenAddress })\n                })\n            }}\n          >\n            {t('unlock')}\n          </SubCurrencySelect>\n        )\n      } else {\n        return <SubCurrencySelect>{t('pending')}</SubCurrencySelect>\n      }\n    }\n  }\n\n  function _renderInput() {\n    if (typeof renderInput === 'function') {\n      return renderInput()\n    }\n\n    return (\n      <InputRow>\n        <Input\n          type=\"number\"\n          min=\"0\"\n          step=\"0.000000000000000001\"\n          error={!!errorMessage}\n          placeholder=\"0.0\"\n          onChange={e => onValueChange(e.target.value)}\n          onKeyPress={e => {\n            const charCode = e.which ? e.which : e.keyCode\n\n            // Prevent 'minus' character\n            if (charCode === 45) {\n              e.preventDefault()\n              e.stopPropagation()\n            }\n          }}\n          value={value}\n        />\n        {renderUnlockButton()}\n        <CurrencySelect\n          selected={!!selectedTokenAddress}\n          onClick={() => {\n            if (!disableTokenSelect) {\n              setModalIsOpen(true)\n            }\n          }}\n        >\n          <Aligner>\n            {selectedTokenAddress ? <TokenLogo address={selectedTokenAddress} /> : null}\n            {\n              <StyledTokenName>\n                {(allTokens[selectedTokenAddress] && allTokens[selectedTokenAddress].symbol) || t('selectToken')}\n              </StyledTokenName>\n            }\n            {!disableTokenSelect && <StyledDropDown selected={!!selectedTokenAddress} />}\n          </Aligner>\n        </CurrencySelect>\n      </InputRow>\n    )\n  }\n\n  return (\n    <InputPanel>\n      <Container error={!!errorMessage}>\n        <LabelRow>\n          <LabelContainer>\n            <span>{title}</span> <span>{description}</span>\n          </LabelContainer>\n\n          <ErrorSpan\n            data-tip={'Enter max'}\n            error={!!errorMessage}\n            onClick={() => {\n              extraTextClickHander()\n            }}\n          >\n            <Tooltip\n              label=\"Enter Max\"\n              style={{\n                background: 'hsla(0, 0%, 0%, 0.75)',\n                color: 'white',\n                border: 'none',\n                borderRadius: '24px',\n                padding: '0.5em 1em',\n                marginTop: '-64px'\n              }}\n            >\n              <span>{extraText}</span>\n            </Tooltip>\n          </ErrorSpan>\n        </LabelRow>\n        {_renderInput()}\n      </Container>\n      {!disableTokenSelect && (\n        <CurrencySelectModal\n          isOpen={modalIsOpen}\n          onDismiss={() => {\n            setModalIsOpen(false)\n          }}\n          onTokenSelect={onCurrencySelected}\n          allBalances={allBalances}\n        />\n      )}\n    </InputPanel>\n  )\n}\n\nfunction CurrencySelectModal({ isOpen, onDismiss, onTokenSelect }) {\n  const { t } = useTranslation()\n\n  const [searchQuery, setSearchQuery] = useState('')\n  const { exchangeAddress } = useTokenDetails(searchQuery)\n\n  const allTokens = useAllTokenDetails()\n\n  const { account } = useWeb3React()\n\n  // BigNumber.js instance\n  const ethPrice = useETHPriceInUSD()\n\n  // all balances for both account and exchanges\n  let allBalances = useAllBalances()\n\n  const _usdAmounts = Object.keys(allTokens).map(k => {\n    if (ethPrice && allBalances[account] && allBalances[account][k] && allBalances[account][k].value) {\n      let ethRate = 1 // default for ETH\n      let exchangeDetails = allBalances[allTokens[k].exchangeAddress]\n      if (\n        exchangeDetails &&\n        exchangeDetails[k] &&\n        exchangeDetails[k].value &&\n        exchangeDetails['ETH'] &&\n        exchangeDetails['ETH'].value\n      ) {\n        const tokenBalance = new BigNumber(exchangeDetails[k].value.toString())\n        const ethBalance = new BigNumber(exchangeDetails['ETH'].value.toString())\n        ethRate = ethBalance.div(tokenBalance)\n      }\n      const USDRate = ethPrice\n        .times(ethRate)\n        .times(new BigNumber(10).pow(allTokens[k].decimals).div(new BigNumber(10).pow(18)))\n      const balanceBigNumber = new BigNumber(allBalances[account][k].value.toString())\n      const usdBalance = balanceBigNumber.times(USDRate).div(new BigNumber(10).pow(allTokens[k].decimals))\n      return usdBalance\n    } else {\n      return null\n    }\n  })\n  const usdAmounts =\n    _usdAmounts &&\n    Object.keys(allTokens).reduce(\n      (accumulator, currentValue, i) => Object.assign({ [currentValue]: _usdAmounts[i] }, accumulator),\n      {}\n    )\n\n  const tokenList = useMemo(() => {\n    return Object.keys(allTokens)\n      .sort((a, b) => {\n        if (allTokens[a].symbol && allTokens[b].symbol) {\n          const aSymbol = allTokens[a].symbol.toLowerCase()\n          const bSymbol = allTokens[b].symbol.toLowerCase()\n\n          // pin ETH to top\n          if (aSymbol === 'ETH'.toLowerCase() || bSymbol === 'ETH'.toLowerCase()) {\n            return aSymbol === bSymbol ? 0 : aSymbol === 'ETH'.toLowerCase() ? -1 : 1\n          }\n\n          // then tokens with balance\n          if (usdAmounts[a] && !usdAmounts[b]) {\n            return -1\n          } else if (usdAmounts[b] && !usdAmounts[a]) {\n            return 1\n          }\n\n          // sort by balance\n          if (usdAmounts[a] && usdAmounts[b]) {\n            const aUSD = usdAmounts[a]\n            const bUSD = usdAmounts[b]\n\n            return aUSD.gt(bUSD) ? -1 : aUSD.lt(bUSD) ? 1 : 0\n          }\n\n          // sort alphabetically\n          return aSymbol < bSymbol ? -1 : aSymbol > bSymbol ? 1 : 0\n        } else {\n          return 0\n        }\n      })\n      .map(k => {\n        let balance\n        let usdBalance\n        // only update if we have data\n        if (k === 'ETH' && allBalances[account] && allBalances[account][k] && allBalances[account][k].value) {\n          balance = formatEthBalance(allBalances[account][k].value)\n          usdBalance = usdAmounts[k]\n        } else if (allBalances[account] && allBalances[account][k] && allBalances[account][k].value) {\n          balance = formatTokenBalance(allBalances[account][k].value, allTokens[k].decimals)\n          usdBalance = usdAmounts[k]\n        }\n        return {\n          name: allTokens[k].name,\n          symbol: allTokens[k].symbol,\n          address: k,\n          balance: balance,\n          usdBalance: usdBalance\n        }\n      })\n  }, [allBalances, allTokens, usdAmounts, account])\n\n  const filteredTokenList = useMemo(() => {\n    return tokenList.filter(tokenEntry => {\n      const inputIsAddress = searchQuery.slice(0, 2) === '0x'\n\n      // check the regex for each field\n      const regexMatches = Object.keys(tokenEntry).map(tokenEntryKey => {\n        // if address field only search if input starts with 0x\n        if (tokenEntryKey === 'address') {\n          return (\n            inputIsAddress &&\n            typeof tokenEntry[tokenEntryKey] === 'string' &&\n            !!tokenEntry[tokenEntryKey].match(new RegExp(escapeStringRegex(searchQuery), 'i'))\n          )\n        }\n        return (\n          typeof tokenEntry[tokenEntryKey] === 'string' &&\n          !!tokenEntry[tokenEntryKey].match(new RegExp(escapeStringRegex(searchQuery), 'i'))\n        )\n      })\n      return regexMatches.some(m => m)\n    })\n  }, [tokenList, searchQuery])\n\n  function _onTokenSelect(address) {\n    setSearchQuery('')\n    onTokenSelect(address)\n    onDismiss()\n  }\n\n  function renderTokenList() {\n    if (isAddress(searchQuery) && exchangeAddress === undefined) {\n      return <TokenModalInfo>Searching for Exchange...</TokenModalInfo>\n    }\n    if (isAddress(searchQuery) && exchangeAddress === ethers.constants.AddressZero) {\n      return (\n        <>\n          <TokenModalInfo>{t('noExchange')}</TokenModalInfo>\n          <TokenModalInfo>\n            <Link to={`/create-exchange/${searchQuery}`}>{t('createExchange')}</Link>\n          </TokenModalInfo>\n        </>\n      )\n    }\n    if (!filteredTokenList.length) {\n      return <TokenModalInfo>{t('noExchange')}</TokenModalInfo>\n    }\n\n    return filteredTokenList.map(({ address, symbol, name, balance, usdBalance }) => {\n      return (\n        <TokenModalRow key={address} onClick={() => _onTokenSelect(address)}>\n          <TokenRowLeft>\n            <TokenLogo address={address} size={'2rem'} />\n            <TokenSymbolGroup>\n              <span id=\"symbol\">{symbol}</span>\n              <TokenFullName>{name}</TokenFullName>\n            </TokenSymbolGroup>\n          </TokenRowLeft>\n          <TokenRowRight>\n            {balance ? (\n              <TokenRowBalance>{balance && (balance > 0 || balance === '<0.0001') ? balance : '-'}</TokenRowBalance>\n            ) : account ? (\n              <SpinnerWrapper src={Circle} alt=\"loader\" />\n            ) : (\n              '-'\n            )}\n            <TokenRowUsd>\n              {usdBalance && !usdBalance.isNaN()\n                ? usdBalance.isZero()\n                  ? ''\n                  : usdBalance.lt(0.01)\n                  ? '<$0.01'\n                  : '$' + formatToUsd(usdBalance)\n                : ''}\n            </TokenRowUsd>\n          </TokenRowRight>\n        </TokenModalRow>\n      )\n    })\n  }\n\n  // manage focus on modal show\n  const inputRef = useRef()\n\n  function onInput(event) {\n    const input = event.target.value\n    const checksummedInput = isAddress(input)\n    setSearchQuery(checksummedInput || input)\n  }\n\n  function clearInputAndDismiss() {\n    setSearchQuery('')\n    onDismiss()\n  }\n\n  return (\n    <Modal\n      isOpen={isOpen}\n      onDismiss={clearInputAndDismiss}\n      minHeight={60}\n      maxHeight={50}\n      initialFocusRef={isMobile ? undefined : inputRef}\n    >\n      <TokenModal>\n        <ModalHeader>\n          <p>Select Token</p>\n          <CloseIcon onClick={clearInputAndDismiss}>\n            <CloseColor alt={'close icon'} />\n          </CloseIcon>\n        </ModalHeader>\n        <SearchContainer>\n          <img src={SearchIcon} alt=\"search\" />\n          <StyledBorderlessInput\n            ref={inputRef}\n            type=\"text\"\n            placeholder={isMobile ? t('searchOrPasteMobile') : t('searchOrPaste')}\n            onChange={onInput}\n          />\n        </SearchContainer>\n        <TokenList>{renderTokenList()}</TokenList>\n      </TokenModal>\n    </Modal>\n  )\n}\n","'use strict';\n\nconst matchOperatorsRegex = /[|\\\\{}()[\\]^$+*?.-]/g;\n\nmodule.exports = string => {\n\tif (typeof string !== 'string') {\n\t\tthrow new TypeError('Expected a string');\n\t}\n\n\treturn string.replace(matchOperatorsRegex, '\\\\$&');\n};\n"],"sourceRoot":""}