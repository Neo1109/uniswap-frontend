{"version":3,"sources":["contexts/Balances.js","theme/index.js","contexts/AllBalances.js","contexts/Allowances.js","components/Modal/index.js","assets/images/unicorn.svg","contexts/LocalStorage.js","utils/signer.js","utils/index.js","utils/math.js","utils/price.js","contexts/Application.js","theme/components.js","hooks/index.js","contexts/Tokens.js","constants/index.js","assets/images/circle.svg","contexts/Transactions.js","components/Web3ReactManager/index.js","components/WalletModal/Copy.js","components/WalletModal/Transaction.js","components/WalletModal/index.js","components/Web3Status/index.js","components/Header/index.js","components/Footer/index.js","components/NavigationTabs/index.js","pages/App.js","NetworkOnlyConnector.js","InjectedConnector.js","i18n.js","index.js"],"names":["UPDATE","BalancesContext","createContext","reducer","state","type","payload","networkId","address","tokenAddress","value","blockNumber","safeAccess","Error","Provider","children","useReducer","dispatch","update","useCallback","useMemo","useAddressBalance","useWeb3Context","library","globalBlockNumber","useBlockNumber","useContext","useEffect","isAddress","undefined","stale","getEtherBalance","getTokenBalance","then","catch","useExchangeReserves","exchangeAddress","useTokenDetails","reserveETH","reserveToken","MEDIA_WIDTHS","upToSmall","upToMedium","upToLarge","mediaWidthTemplates","Object","keys","reduce","accumulator","size","css","flexColumnNoWrap","flexRowNoWrap","white","ThemeProvider","useDarkModeManager","darkMode","toggleDarkMode","themeURL","checkSupportedTheme","getQueryParam","window","location","themeToRender","toUpperCase","SUPPORTED_THEMES","DARK","LIGHT","theme","black","textColor","greyText","backgroundColor","modalBackground","inputBackground","placeholderGray","shadowColor","concreteGray","mercuryGray","silverGray","chaliceGray","doveGray","mineshaftGray","buttonOutlineGrey","tokenRowHover","charcoalBlack","zumthorBlue","malibuBlue","royalBlue","loadingBlue","uniswapBlue","uniswapDarkblue","wisteriaPurple","salmonRed","pizazzOrange","warningYellow","uniswapPink","connectedGreen","textHover","mediaWidth","GlobalStyle","createGlobalStyle","ZERO","ethers","utils","bigNumberify","ONE","BigNumber","AllBalancesContext","allBalanceData","useFetchAllBalances","account","allTokens","useAllTokenDetails","getData","a","newBalances","Promise","all","map","k","balance","ethRate","gt","getTokenReserves","tokenReserves","marketDetails","getMarketDetails","marketRate","rate","AllowancesContext","spenderAddress","useAddressAllowance","getTokenAllowance","AnimatedDialogOverlay","animated","DialogOverlay","StyledDialogOverlay","styled","suppressClassNameWarning","rest","attrs","StyledDialogContent","minHeight","transparentize","HiddenCloseButton","button","Modal","isOpen","onDismiss","initialFocusRef","useTransition","config","duration","from","opacity","enter","leave","item","key","props","style","hidden","onClick","module","exports","UNISWAP","VERSION","CURRENT_VERSION","LAST_SAVED","BETA_MESSAGE_DISMISSED","GENERAL_DAI__MESSAGE_DISMISSED","SAI_HOLDER__MESSAGE_DISMISSED","DARK_MODE","UPDATABLE_KEYS","UPDATE_KEY","LocalStorageContext","useLocalStorageContext","some","init","defaultLocalStorage","parsed","JSON","parse","localStorage","getItem","updateKey","Updater","setItem","stringify","Math","floor","Date","now","useSaiHolderMessageManager","dismissSaiHolderMessage","useGeneralDaiMessageManager","dismissGeneralDaiMessage","useBetaMessageManager","dismissBetaMessage","isDarkMode","UncheckedJsonRpcSigner","signer","defineReadOnly","provider","this","getAddress","transaction","sendUncheckedTransaction","hash","nonce","gasLimit","gasPrice","data","chainId","confirmations","wait","waitForTransaction","message","signMessage","ERROR_CODES","currentValue","currentIndex","object","path","ETHERSCAN_PREFIXES","1","3","4","5","42","getEtherscanLink","prefix","windowLocation","name","q","search","match","RegExp","getAllQueryParams","params","inputCurrency","outputCurrency","slippage","isNaN","exactField","exactAmount","recipient","ethAmount","tokenAmount","token","poolTokenAmount","poolTokenAddress","themeName","shortenAddress","digits","substring","toLowerCase","calculateGasMargin","margin","offset","mul","div","add","getContract","ABI","constants","AddressZero","Contract","getSigner","getProviderOrSigner","getFactoryContract","FACTORY_ADDRESSES","FACTORY_ABI","getExchangeContract","EXCHANGE_ABI","getTokenName","ERC20_ABI","ERC20_BYTES32_ABI","bytes32","parseBytes32String","error","code","TOKEN_SYMBOL","getTokenSymbol","symbol","getTokenDecimals","decimals","TOKEN_DECIMALS","getTokenExchangeAddressFromFactory","getExchange","getBalance","formatEthBalance","amountFormatter","formatTokenBalance","decimal","Number","isInteger","min","formatToUsd","price","formatFixed","decimalPlaces","dropTrailingZeros","format","decimalSeparator","groupSeparator","groupSize","balanceOf","allowance","amount","baseDecimals","displayDecimals","useLessThan","isZero","minimumDisplayAmount","pow","lt","formatUnits","stringAmount","split","wholeComponent","decimalComponent","roundedDecimalComponent","padEnd","toString","padStart","repeat","replace","getMedian","values","valueMap","i","sort","b","isGreaterThan","isLessThan","element","_","findIndex","sortBigNumbers","sortedValues","sortMap","length","middle","indices","plus","dividedBy","includes","getMean","_weights","weights","numerator","multipliedBy","denominator","weight","USD_STABLECOINS","USD_STABLECOIN_ADDRESSES","forEachStablecoin","runner","stablecoin","index","reserves","ethReserves","ethReserve","ethPrices","rateInverted","median","medianWeights","mean","meanWeights","weightedMean","weightedMeanWeights","ethPrice","_stablecoinWeights","BLOCK_NUMBER","USD_PRICE","UPDATE_BLOCK_NUMBER","UPDATE_USD_PRICE","ApplicationContext","useApplicationContext","USDPrice","updateBlockNumber","updateUSDPrice","getUSDPrice","getBlockNumber","on","removeListener","useUSDPrice","Button","warning","darken","Link","target","rel","BorderlessInput","input","rotate","keyframes","Spinner","img","useDebounce","delay","useState","debouncedValue","setDebouncedValue","handler","setTimeout","clearTimeout","useBodyKeyDown","targetKey","onKeyDown","suppressOnKeyDown","downHandler","event","tagName","preventDefault","addEventListener","removeEventListener","useENSName","ENSName","setENSName","lookupAddress","useTokenContract","withSignerIfPossible","useFactoryContract","useExchangeContract","useCopyClipboard","timeout","isCopied","setIsCopied","staticCopy","text","didCopy","copy","hide","NAME","SYMBOL","DECIMALS","EXCHANGE_ADDRESS","ETH","INITIAL_TOKENS_CONTEXT","TokensContext","useTokensContext","allTokensInNetwork","namePromise","symbolPromise","decimalsPromise","exchangeAddressPromise","resolvedName","resolvedSymbol","resolvedDecimals","resolvedExchangeAddress","requireExchange","tokenDetails","filter","brokenTokens","RESPONSE","CUSTOM_DATA","BLOCK_NUMBER_CHECKED","RECEIPT","ADD","CHECK","FINALIZE","TransactionsContext","useTransactionsContext","response","receipt","check","finalize","allTransactions","forEach","getTransactionReceipt","useTransactionAdder","customData","useAllTransactions","usePendingApproval","approval","Connector","Connectors","MessageWrapper","Message","h2","SpinnerWrapper","tryToSetConnector","setConnector","setError","suppressAndThrowErrors","Web3ReactManager","t","useTranslation","active","blockRender","errorCodes","UNSUPPORTED_NETWORK","ethereum","web3","isMobile","providers","Web3Provider","listAccounts","accounts","showLoader","setShowLoader","src","Circle","CopyIcon","TransactionStatusText","span","CopyHelper","toCopy","setCopied","TransactionStatusWrapper","TransactionWrapper","TransactionState","pending","ButtonWrapper","Transaction","href","id","Wrapper","UpperSection","YourAccount","LowerSection","AccountControl","hasENS","isENS","TransactionListWrapper","StyledLink","WalletModal","pendingTransactions","confirmedTransactions","renderTransactions","transactions","Web3StatusGeneric","Web3StatusError","Web3StatusConnect","Web3StatusConnected","Text","p","Identicon","NetworkIcon","Activity","walletModalInitialState","open","WALLET_MODAL_ERROR","WALLET_MODAL_OPEN","WALLET_MODAL_OPEN_ERROR","WALLET_MODAL_CLOSE","walletModalReducer","Web3Status","connectorName","confirmed","hasPendingTransactions","walletModalIsOpen","walletModalError","openWalletModal","tryToActivateInjected","accountPoll","setInterval","clearInterval","ref","useRef","current","innerHTML","appendChild","Jazzicon","parseInt","slice","alt","HeaderFrame","HeaderElement","Nod","Title","UniswapBlue","Header","LogoUnicorn","height","FooterFrame","FooterElement","StyledToggle","Toggle","EmojiToggle","Footer","isDark","checked","uncheckedIcon","role","aria-label","checkedIcon","onChange","tabOrder","textKey","regex","BetaMessage","DaiMessage","CloseIcon","WarningHeader","WarningFooter","Tabs","StyledNavLink","NavLink","activeClassName","withRouter","pathname","history","showBetaMessage","showGeneralDaiMessage","showSaiHolderMessage","daiBalance","daiPoolTokenBalance","onLiquidityPage","navigate","direction","tabIndex","push","navigateRight","navigateLeft","providerMessage","generalMessage","to","isActive","Swap","lazy","Send","Pool","AppWrapper","HeaderWrapper","FooterWrapper","BodyWrapper","Body","getFallbackProvider","providerURL","process","etherscan","EtherscanProvider","JsonRpcProvider","FallbackProvider","NetworkOnlyConnector","kwargs","engine","polling","pollingInterval","getNetwork","network","InjectedConnector","args","runOnDeactivation","networkChangedHandler","bind","accountsChangedHandler","isMetaMask","autoRefreshOnNetworkChange","enable","deniedAccessError","ETHEREUM_ACCESS_DENIED","console","warn","noWeb3Error","NO_WEB3","currentProvider","unlockRequiredError","UNLOCK_REQUIRED","networkIdNumber","updateNetworkId","updateAccount","ErrorCodeMixin","i18next","use","XHR","LanguageDetector","initReactI18next","backend","loadPath","react","useSuspense","fallbackLng","preload","keySeparator","interpolation","escapeValue","ReactGA","initialize","pageview","Network","connectors","Injected","supportedNetworks","ReactDOM","render","libraryName","LocalStorage","Application","Tokens","Balances","AllBalances","Allowances","fallback","exact","strict","component","initialCurrency","document","getElementById"],"mappings":"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","file":"static/js/main.12af57a3.chunk.js","sourcesContent":["import React, { createContext, useContext, useReducer, useMemo, useCallback, useEffect } from 'react'\nimport { useWeb3Context } from 'web3-react'\n\nimport { safeAccess, isAddress, getEtherBalance, getTokenBalance } from '../utils'\nimport { useBlockNumber } from './Application'\nimport { useTokenDetails } from './Tokens'\n\nconst UPDATE = 'UPDATE'\n\nconst BalancesContext = createContext()\n\nfunction useBalancesContext() {\n  return useContext(BalancesContext)\n}\n\nfunction reducer(state, { type, payload }) {\n  switch (type) {\n    case UPDATE: {\n      const { networkId, address, tokenAddress, value, blockNumber } = payload\n      return {\n        ...state,\n        [networkId]: {\n          ...(safeAccess(state, [networkId]) || {}),\n          [address]: {\n            ...(safeAccess(state, [networkId, address]) || {}),\n            [tokenAddress]: {\n              value,\n              blockNumber\n            }\n          }\n        }\n      }\n    }\n    default: {\n      throw Error(`Unexpected action type in BalancesContext reducer: '${type}'.`)\n    }\n  }\n}\n\nexport default function Provider({ children }) {\n  const [state, dispatch] = useReducer(reducer, {})\n\n  const update = useCallback((networkId, address, tokenAddress, value, blockNumber) => {\n    dispatch({ type: UPDATE, payload: { networkId, address, tokenAddress, value, blockNumber } })\n  }, [])\n\n  return (\n    <BalancesContext.Provider value={useMemo(() => [state, { update }], [state, update])}>\n      {children}\n    </BalancesContext.Provider>\n  )\n}\n\nexport function useAddressBalance(address, tokenAddress) {\n  const { networkId, library } = useWeb3Context()\n\n  const globalBlockNumber = useBlockNumber()\n\n  const [state, { update }] = useBalancesContext()\n  const { value, blockNumber } = safeAccess(state, [networkId, address, tokenAddress]) || {}\n\n  useEffect(() => {\n    if (\n      isAddress(address) &&\n      (tokenAddress === 'ETH' || isAddress(tokenAddress)) &&\n      (value === undefined || blockNumber !== globalBlockNumber) &&\n      (networkId || networkId === 0) &&\n      library\n    ) {\n      let stale = false\n      ;(tokenAddress === 'ETH' ? getEtherBalance(address, library) : getTokenBalance(tokenAddress, address, library))\n        .then(value => {\n          if (!stale) {\n            update(networkId, address, tokenAddress, value, globalBlockNumber)\n          }\n        })\n        .catch(() => {\n          if (!stale) {\n            update(networkId, address, tokenAddress, null, globalBlockNumber)\n          }\n        })\n      return () => {\n        stale = true\n      }\n    }\n  }, [address, tokenAddress, value, blockNumber, globalBlockNumber, networkId, library, update])\n\n  return value\n}\n\nexport function useExchangeReserves(tokenAddress) {\n  const { exchangeAddress } = useTokenDetails(tokenAddress)\n\n  const reserveETH = useAddressBalance(exchangeAddress, 'ETH')\n  const reserveToken = useAddressBalance(exchangeAddress, tokenAddress)\n\n  return { reserveETH, reserveToken }\n}\n","import React, { useEffect } from 'react'\nimport { ThemeProvider as StyledComponentsThemeProvider, createGlobalStyle, css } from 'styled-components'\nimport { getQueryParam, checkSupportedTheme } from '../utils'\nimport { SUPPORTED_THEMES } from '../constants'\nimport { useDarkModeManager } from '../contexts/LocalStorage'\n\nexport * from './components'\n\nconst MEDIA_WIDTHS = {\n  upToSmall: 600,\n  upToMedium: 960,\n  upToLarge: 1280\n}\n\nconst mediaWidthTemplates = Object.keys(MEDIA_WIDTHS).reduce((accumulator, size) => {\n  accumulator[size] = (...args) => css`\n    @media (max-width: ${MEDIA_WIDTHS[size]}px) {\n      ${css(...args)}\n    }\n  `\n  return accumulator\n}, {})\n\nconst flexColumnNoWrap = css`\n  display: flex;\n  flex-flow: column nowrap;\n`\n\nconst flexRowNoWrap = css`\n  display: flex;\n  flex-flow: row nowrap;\n`\n\nconst white = '#FFFFFF'\nconst black = '#000000'\n\nexport default function ThemeProvider({ children }) {\n  const [darkMode, toggleDarkMode] = useDarkModeManager()\n  const themeURL = checkSupportedTheme(getQueryParam(window.location, 'theme'))\n  const themeToRender = themeURL\n    ? themeURL.toUpperCase() === SUPPORTED_THEMES.DARK\n      ? true\n      : themeURL.toUpperCase() === SUPPORTED_THEMES.LIGHT\n      ? false\n      : darkMode\n    : darkMode\n  useEffect(() => {\n    toggleDarkMode(themeToRender)\n  }, [toggleDarkMode, themeToRender])\n  return <StyledComponentsThemeProvider theme={theme(themeToRender)}>{children}</StyledComponentsThemeProvider>\n}\n\nconst theme = darkMode => ({\n  white,\n  black,\n  textColor: darkMode ? white : '#010101',\n  greyText: darkMode ? white : '#6C7284',\n\n  // for setting css on <html>\n  backgroundColor: darkMode ? '#333639' : white,\n\n  modalBackground: darkMode ? 'rgba(0,0,0,0.6)' : 'rgba(0,0,0,0.3)',\n  inputBackground: darkMode ? '#202124' : white,\n  placeholderGray: darkMode ? '#5F5F5F' : '#E1E1E1',\n  shadowColor: darkMode ? '#000' : '#2F80ED',\n\n  // grays\n  concreteGray: darkMode ? '#292C2F' : '#FAFAFA',\n  mercuryGray: darkMode ? '#333333' : '#E1E1E1',\n  silverGray: darkMode ? '#737373' : '#C4C4C4',\n  chaliceGray: darkMode ? '#7B7B7B' : '#AEAEAE',\n  doveGray: darkMode ? '#C4C4C4' : '#737373',\n  mineshaftGray: darkMode ? '#E1E1E1' : '#2B2B2B',\n  buttonOutlineGrey: darkMode ? '#FAFAFA' : '#F2F2F2',\n  tokenRowHover: darkMode ? '#404040' : '#F2F2F2',\n\n  //blacks\n  charcoalBlack: darkMode ? '#F2F2F2' : '#404040',\n  // blues\n  zumthorBlue: darkMode ? '#212529' : '#EBF4FF',\n  malibuBlue: darkMode ? '#2F80ED' : '#5CA2FF',\n  royalBlue: darkMode ? '#2F80ED' : '#2F80ED',\n  loadingBlue: darkMode ? '#e4f0ff' : '#e4f0ff',\n  uniswapBlue: darkMode ? '#2F80ED' : '#2F80ED5',\n  uniswapDarkblue: darkMode ? '#1F60CD' : '#1F60CD5',\n\n  // purples\n  wisteriaPurple: '#DC6BE5',\n  // reds\n  salmonRed: '#FF6871',\n  // orange\n  pizazzOrange: '#FF8F05',\n  // yellows\n  warningYellow: '#FFE270',\n  // pink\n  uniswapPink: '#DC6BE5',\n  connectedGreen: '#27AE60',\n\n  //specific\n  textHover: darkMode ? theme.uniswapBlue : theme.doveGray,\n\n  // media queries\n  mediaWidth: mediaWidthTemplates,\n  // css snippets\n  flexColumnNoWrap,\n  flexRowNoWrap\n})\n\nexport const GlobalStyle = createGlobalStyle`\n  @import url('https://rsms.me/inter/inter.css');\n  html { font-family: 'Inter', sans-serif; }\n  @supports (font-variation-settings: normal) {\n    html { font-family: 'Inter var', sans-serif; }\n  }\n  \n  html,\n  body {\n    margin: 0;\n    padding: 0;\n    width: 100%;\n    height: 100%;\n    overflow: hidden;    \n  }\n\n  body > div {\n    height: 100%;\n    overflow: auto;\n    -webkit-overflow-scrolling: touch;\n}\n\n  html {\n    font-size: 16px;\n    font-variant: none;\n    color: ${({ theme }) => theme.textColor};\n    background-color: ${({ theme }) => theme.backgroundColor};\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  }\n`\n","import React, { createContext, useContext, useReducer, useMemo, useCallback } from 'react'\nimport { ethers } from 'ethers'\nimport { getTokenReserves, getMarketDetails, BigNumber } from '@uniswap/sdk'\nimport { useWeb3Context } from 'web3-react'\n\nimport { safeAccess, isAddress, getEtherBalance, getTokenBalance } from '../utils'\nimport { useAllTokenDetails } from './Tokens'\n\nconst ZERO = ethers.utils.bigNumberify(0)\nconst ONE = new BigNumber(1)\n\nconst UPDATE = 'UPDATE'\n\nconst AllBalancesContext = createContext()\n\nfunction useAllBalancesContext() {\n  return useContext(AllBalancesContext)\n}\n\nfunction reducer(state, { type, payload }) {\n  switch (type) {\n    case UPDATE: {\n      const { allBalanceData, networkId, address } = payload\n      return {\n        ...state,\n        [networkId]: {\n          ...(safeAccess(state, [networkId]) || {}),\n          [address]: {\n            ...(safeAccess(state, [networkId, address]) || {}),\n            allBalanceData\n          }\n        }\n      }\n    }\n    default: {\n      throw Error(`Unexpected action type in AllBalancesContext reducer: '${type}'.`)\n    }\n  }\n}\n\nexport default function Provider({ children }) {\n  const [state, dispatch] = useReducer(reducer, {})\n\n  const update = useCallback((allBalanceData, networkId, address) => {\n    dispatch({ type: UPDATE, payload: { allBalanceData, networkId, address } })\n  }, [])\n\n  return (\n    <AllBalancesContext.Provider value={useMemo(() => [state, { update }], [state, update])}>\n      {children}\n    </AllBalancesContext.Provider>\n  )\n}\n\nexport function useFetchAllBalances() {\n  const { account, networkId, library } = useWeb3Context()\n\n  const allTokens = useAllTokenDetails()\n\n  const [state, { update }] = useAllBalancesContext()\n\n  const { allBalanceData } = safeAccess(state, [networkId, account]) || {}\n\n  const getData = async () => {\n    if (!!library && !!account) {\n      const newBalances = {}\n      await Promise.all(\n        Object.keys(allTokens).map(async k => {\n          let balance = null\n          let ethRate = null\n          if (isAddress(k) || k === 'ETH') {\n            if (k === 'ETH') {\n              balance = await getEtherBalance(account, library).catch(() => null)\n              ethRate = ONE\n            } else {\n              balance = await getTokenBalance(k, account, library).catch(() => null)\n              // only get values for tokens with positive balances\n              if (!!balance && balance.gt(ZERO)) {\n                const tokenReserves = await getTokenReserves(k, library).catch(() => null)\n                if (!!tokenReserves) {\n                  const marketDetails = getMarketDetails(tokenReserves)\n                  if (marketDetails.marketRate && marketDetails.marketRate.rate) {\n                    ethRate = marketDetails.marketRate.rate\n                  }\n                }\n              }\n            }\n\n            return (newBalances[k] = { balance, ethRate })\n          }\n        })\n      )\n      update(newBalances, networkId, account)\n    }\n  }\n\n  useMemo(getData, [account])\n\n  return allBalanceData\n}\n","import React, { createContext, useContext, useReducer, useMemo, useCallback, useEffect } from 'react'\nimport { useWeb3Context } from 'web3-react'\n\nimport { safeAccess, isAddress, getTokenAllowance } from '../utils'\nimport { useBlockNumber } from './Application'\n\nconst UPDATE = 'UPDATE'\n\nconst AllowancesContext = createContext()\n\nfunction useAllowancesContext() {\n  return useContext(AllowancesContext)\n}\n\nfunction reducer(state, { type, payload }) {\n  switch (type) {\n    case UPDATE: {\n      const { networkId, address, tokenAddress, spenderAddress, value, blockNumber } = payload\n      return {\n        ...state,\n        [networkId]: {\n          ...(safeAccess(state, [networkId]) || {}),\n          [address]: {\n            ...(safeAccess(state, [networkId, address]) || {}),\n            [tokenAddress]: {\n              ...(safeAccess(state, [networkId, address, tokenAddress]) || {}),\n              [spenderAddress]: {\n                value,\n                blockNumber\n              }\n            }\n          }\n        }\n      }\n    }\n    default: {\n      throw Error(`Unexpected action type in AllowancesContext reducer: '${type}'.`)\n    }\n  }\n}\n\nexport default function Provider({ children }) {\n  const [state, dispatch] = useReducer(reducer, {})\n\n  const update = useCallback((networkId, address, tokenAddress, spenderAddress, value, blockNumber) => {\n    dispatch({ type: UPDATE, payload: { networkId, address, tokenAddress, spenderAddress, value, blockNumber } })\n  }, [])\n\n  return (\n    <AllowancesContext.Provider value={useMemo(() => [state, { update }], [state, update])}>\n      {children}\n    </AllowancesContext.Provider>\n  )\n}\n\nexport function useAddressAllowance(address, tokenAddress, spenderAddress) {\n  const { networkId, library } = useWeb3Context()\n\n  const globalBlockNumber = useBlockNumber()\n\n  const [state, { update }] = useAllowancesContext()\n  const { value, blockNumber } = safeAccess(state, [networkId, address, tokenAddress, spenderAddress]) || {}\n\n  useEffect(() => {\n    if (\n      isAddress(address) &&\n      isAddress(tokenAddress) &&\n      isAddress(spenderAddress) &&\n      (value === undefined || blockNumber !== globalBlockNumber) &&\n      (networkId || networkId === 0) &&\n      library\n    ) {\n      let stale = false\n\n      getTokenAllowance(address, tokenAddress, spenderAddress, library)\n        .then(value => {\n          if (!stale) {\n            update(networkId, address, tokenAddress, spenderAddress, value, globalBlockNumber)\n          }\n        })\n        .catch(() => {\n          if (!stale) {\n            update(networkId, address, tokenAddress, spenderAddress, null, globalBlockNumber)\n          }\n        })\n\n      return () => {\n        stale = true\n      }\n    }\n  }, [address, tokenAddress, spenderAddress, value, blockNumber, globalBlockNumber, networkId, library, update])\n\n  return value\n}\n","import React from 'react'\nimport styled, { css } from 'styled-components'\nimport { animated, useTransition } from 'react-spring'\nimport { DialogOverlay, DialogContent } from '@reach/dialog'\nimport '@reach/dialog/styles.css'\nimport { transparentize } from 'polished'\n\nconst AnimatedDialogOverlay = animated(DialogOverlay)\nconst WrappedDialogOverlay = ({ suppressClassNameWarning, ...rest }) => <AnimatedDialogOverlay {...rest} />\nconst StyledDialogOverlay = styled(WrappedDialogOverlay).attrs({\n  suppressClassNameWarning: true\n})`\n  &[data-reach-dialog-overlay] {\n    z-index: 2;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: ${({ theme }) => theme.modalBackground};\n  }\n`\n\nconst FilteredDialogContent = ({ minHeight, ...rest }) => <DialogContent {...rest} />\nconst StyledDialogContent = styled(FilteredDialogContent)`\n  &[data-reach-dialog-content] {\n    margin: 0 0 2rem 0;\n    border: 1px solid ${({ theme }) => theme.concreteGray};\n    background-color: ${({ theme }) => theme.inputBackground};\n    box-shadow: 0 4px 8px 0 ${({ theme }) => transparentize(0.95, theme.shadowColor)};\n    ${({ theme }) => theme.mediaWidth.upToMedium`margin: 0;`};\n    padding: 0px;\n    width: 50vw;\n    max-width: 650px;\n    ${({ theme }) => theme.mediaWidth.upToMedium`width: 65vw;`}\n    ${({ theme }) => theme.mediaWidth.upToSmall`width: 85vw;`}\n    max-height: 50vh;\n    ${({ minHeight }) =>\n      minHeight &&\n      css`\n        min-height: ${minHeight}vh;\n      `}\n    ${({ theme }) => theme.mediaWidth.upToMedium`max-height: 65vh;`}\n    ${({ theme }) => theme.mediaWidth.upToSmall`max-height: 80vh;`}\n    display: flex;\n    overflow: hidden;\n    border-radius: 10px;\n  }\n`\n\nconst HiddenCloseButton = styled.button`\n  margin: 0;\n  padding: 0;\n  width: 0;\n  height: 0;\n  border: none;\n`\n\nexport default function Modal({ isOpen, onDismiss, minHeight = false, initialFocusRef, children }) {\n  const transitions = useTransition(isOpen, null, {\n    config: { duration: 150 },\n    from: { opacity: 0 },\n    enter: { opacity: 1 },\n    leave: { opacity: 0 }\n  })\n\n  return transitions.map(\n    ({ item, key, props }) =>\n      item && (\n        <StyledDialogOverlay key={key} style={props} onDismiss={onDismiss} initialFocusRef={initialFocusRef}>\n          <StyledDialogContent hidden={true} minHeight={minHeight}>\n            <HiddenCloseButton onClick={onDismiss} />\n            {children}\n          </StyledDialogContent>\n        </StyledDialogOverlay>\n      )\n  )\n}\n","module.exports = __webpack_public_path__ + \"static/media/unicorn.b5a91f02.svg\";","import React, { createContext, useContext, useReducer, useMemo, useCallback, useEffect } from 'react'\n\nconst UNISWAP = 'UNISWAP'\n\nconst VERSION = 'VERSION'\nconst CURRENT_VERSION = 0\nconst LAST_SAVED = 'LAST_SAVED'\n\nconst BETA_MESSAGE_DISMISSED = 'BETA_MESSAGE_DISMISSED'\nconst GENERAL_DAI__MESSAGE_DISMISSED = 'GENERAL_DAI__MESSAGE_DISMISSED'\nconst SAI_HOLDER__MESSAGE_DISMISSED = 'SAI_HOLDER__MESSAGE_DISMISSED'\nconst DARK_MODE = 'DARK_MODE'\n\nconst UPDATABLE_KEYS = [\n  GENERAL_DAI__MESSAGE_DISMISSED,\n  SAI_HOLDER__MESSAGE_DISMISSED,\n  BETA_MESSAGE_DISMISSED,\n  DARK_MODE\n]\n\nconst UPDATE_KEY = 'UPDATE_KEY'\n\nconst LocalStorageContext = createContext()\n\nfunction useLocalStorageContext() {\n  return useContext(LocalStorageContext)\n}\n\nfunction reducer(state, { type, payload }) {\n  switch (type) {\n    case UPDATE_KEY: {\n      const { key, value } = payload\n      if (!UPDATABLE_KEYS.some(k => k === key)) {\n        throw Error(`Unexpected key in LocalStorageContext reducer: '${key}'.`)\n      } else {\n        return {\n          ...state,\n          [key]: value\n        }\n      }\n    }\n    default: {\n      throw Error(`Unexpected action type in LocalStorageContext reducer: '${type}'.`)\n    }\n  }\n}\n\nfunction init() {\n  const defaultLocalStorage = {\n    [VERSION]: CURRENT_VERSION,\n    [BETA_MESSAGE_DISMISSED]: false,\n    [GENERAL_DAI__MESSAGE_DISMISSED]: false,\n    [SAI_HOLDER__MESSAGE_DISMISSED]: false,\n    [DARK_MODE]: true\n  }\n\n  try {\n    const parsed = JSON.parse(window.localStorage.getItem(UNISWAP))\n    if (parsed[VERSION] !== CURRENT_VERSION) {\n      // this is where we could run migration logic\n      return defaultLocalStorage\n    } else {\n      return { ...defaultLocalStorage, ...parsed }\n    }\n  } catch {\n    return defaultLocalStorage\n  }\n}\n\nexport default function Provider({ children }) {\n  const [state, dispatch] = useReducer(reducer, undefined, init)\n\n  const updateKey = useCallback((key, value) => {\n    dispatch({ type: UPDATE_KEY, payload: { key, value } })\n  }, [])\n\n  return (\n    <LocalStorageContext.Provider value={useMemo(() => [state, { updateKey }], [state, updateKey])}>\n      {children}\n    </LocalStorageContext.Provider>\n  )\n}\n\nexport function Updater() {\n  const [state] = useLocalStorageContext()\n\n  useEffect(() => {\n    window.localStorage.setItem(UNISWAP, JSON.stringify({ ...state, [LAST_SAVED]: Math.floor(Date.now() / 1000) }))\n  })\n\n  return null\n}\n\nexport function useSaiHolderMessageManager() {\n  const [state, { updateKey }] = useLocalStorageContext()\n\n  const dismissSaiHolderMessage = useCallback(() => {\n    updateKey(SAI_HOLDER__MESSAGE_DISMISSED, true)\n  }, [updateKey])\n\n  return [!state[SAI_HOLDER__MESSAGE_DISMISSED], dismissSaiHolderMessage]\n}\n\nexport function useGeneralDaiMessageManager() {\n  const [state, { updateKey }] = useLocalStorageContext()\n\n  const dismissGeneralDaiMessage = useCallback(() => {\n    updateKey(GENERAL_DAI__MESSAGE_DISMISSED, true)\n  }, [updateKey])\n\n  return [!state[GENERAL_DAI__MESSAGE_DISMISSED], dismissGeneralDaiMessage]\n}\n\nexport function useBetaMessageManager() {\n  const [state, { updateKey }] = useLocalStorageContext()\n\n  const dismissBetaMessage = useCallback(() => {\n    updateKey(BETA_MESSAGE_DISMISSED, true)\n  }, [updateKey])\n\n  return [!state[BETA_MESSAGE_DISMISSED], dismissBetaMessage]\n}\n\nexport function useDarkModeManager() {\n  const [state, { updateKey }] = useLocalStorageContext()\n\n  let isDarkMode = state[DARK_MODE]\n\n  const toggleDarkMode = useCallback(\n    value => {\n      updateKey(DARK_MODE, value === false || value === true ? value : !isDarkMode)\n    },\n    [updateKey, isDarkMode]\n  )\n\n  return [state[DARK_MODE], toggleDarkMode]\n}\n","import * as ethers from 'ethers'\n\nexport default class UncheckedJsonRpcSigner extends ethers.Signer {\n  constructor(signer) {\n    super()\n    ethers.utils.defineReadOnly(this, 'signer', signer)\n    ethers.utils.defineReadOnly(this, 'provider', signer.provider)\n  }\n\n  getAddress() {\n    return this.signer.getAddress()\n  }\n\n  sendTransaction(transaction) {\n    return this.signer.sendUncheckedTransaction(transaction).then(hash => {\n      return {\n        hash: hash,\n        nonce: null,\n        gasLimit: null,\n        gasPrice: null,\n        data: null,\n        value: null,\n        chainId: null,\n        confirmations: 0,\n        from: null,\n        wait: confirmations => {\n          return this.signer.provider.waitForTransaction(hash, confirmations)\n        }\n      }\n    })\n  }\n\n  signMessage(message) {\n    return this.signer.signMessage(message)\n  }\n}\n","import { ethers } from 'ethers'\n\nimport FACTORY_ABI from '../constants/abis/factory'\nimport EXCHANGE_ABI from '../constants/abis/exchange'\nimport ERC20_ABI from '../constants/abis/erc20'\nimport ERC20_BYTES32_ABI from '../constants/abis/erc20_bytes32'\nimport { FACTORY_ADDRESSES, SUPPORTED_THEMES } from '../constants'\nimport { formatFixed } from '@uniswap/sdk'\n\nimport UncheckedJsonRpcSigner from './signer'\n\nexport const ERROR_CODES = ['TOKEN_NAME', 'TOKEN_SYMBOL', 'TOKEN_DECIMALS'].reduce(\n  (accumulator, currentValue, currentIndex) => {\n    accumulator[currentValue] = currentIndex\n    return accumulator\n  },\n  {}\n)\n\nexport function safeAccess(object, path) {\n  return object\n    ? path.reduce(\n        (accumulator, currentValue) => (accumulator && accumulator[currentValue] ? accumulator[currentValue] : null),\n        object\n      )\n    : null\n}\n\nconst ETHERSCAN_PREFIXES = {\n  1: '',\n  3: 'ropsten.',\n  4: 'rinkeby.',\n  5: 'goerli.',\n  42: 'kovan.'\n}\n\nexport function getEtherscanLink(networkId, data, type) {\n  const prefix = `https://${ETHERSCAN_PREFIXES[networkId] || ETHERSCAN_PREFIXES[1]}etherscan.io`\n\n  switch (type) {\n    case 'transaction': {\n      return `${prefix}/tx/${data}`\n    }\n    case 'address':\n    default: {\n      return `${prefix}/address/${data}`\n    }\n  }\n}\n\nexport function getQueryParam(windowLocation, name) {\n  var q = windowLocation.search.match(new RegExp('[?&]' + name + '=([^&#?]*)'))\n  return q && q[1]\n}\n\nexport function getAllQueryParams() {\n  let params = {}\n  params.theme = checkSupportedTheme(getQueryParam(window.location, 'theme'))\n\n  params.inputCurrency = isAddress(getQueryParam(window.location, 'inputCurrency'))\n    ? isAddress(getQueryParam(window.location, 'inputCurrency'))\n    : ''\n  params.outputCurrency = isAddress(getQueryParam(window.location, 'outputCurrency'))\n    ? isAddress(getQueryParam(window.location, 'outputCurrency'))\n    : getQueryParam(window.location, 'outputCurrency') === 'ETH'\n    ? 'ETH'\n    : ''\n  params.slippage = !isNaN(getQueryParam(window.location, 'slippage')) ? getQueryParam(window.location, 'slippage') : ''\n  params.exactField = getQueryParam(window.location, 'exactField')\n  params.exactAmount = !isNaN(getQueryParam(window.location, 'exactAmount'))\n    ? getQueryParam(window.location, 'exactAmount')\n    : ''\n  params.theme = checkSupportedTheme(getQueryParam(window.location, 'theme'))\n  params.recipient = isAddress(getQueryParam(window.location, 'recipient'))\n    ? getQueryParam(window.location, 'recipient')\n    : ''\n\n  // Add Liquidity params\n  params.ethAmount = !isNaN(getQueryParam(window.location, 'ethAmount'))\n    ? getQueryParam(window.location, 'ethAmount')\n    : ''\n  params.tokenAmount = !isNaN(getQueryParam(window.location, 'tokenAmount'))\n    ? getQueryParam(window.location, 'tokenAmount')\n    : ''\n  params.token = isAddress(getQueryParam(window.location, 'token'))\n    ? isAddress(getQueryParam(window.location, 'token'))\n    : ''\n\n  // Remove liquidity params\n  params.poolTokenAmount = !isNaN(getQueryParam(window.location, 'poolTokenAmount'))\n    ? getQueryParam(window.location, 'poolTokenAmount')\n    : ''\n  params.poolTokenAddress = isAddress(getQueryParam(window.location, 'poolTokenAddress'))\n    ? isAddress(getQueryParam(window.location, 'poolTokenAddress'))\n      ? isAddress(getQueryParam(window.location, 'poolTokenAddress'))\n      : ''\n    : ''\n\n  // Create Exchange params\n  params.tokenAddress = isAddress(getQueryParam(window.location, 'tokenAddress'))\n    ? isAddress(getQueryParam(window.location, 'tokenAddress'))\n    : ''\n\n  return params\n}\n\nexport function checkSupportedTheme(themeName) {\n  if (themeName && themeName.toUpperCase() in SUPPORTED_THEMES) {\n    return themeName.toUpperCase()\n  }\n  return null\n}\n\nexport function getNetworkName(networkId) {\n  switch (networkId) {\n    case 1: {\n      return 'the Main Ethereum Network'\n    }\n    case 3: {\n      return 'the Ropsten Test Network'\n    }\n    case 4: {\n      return 'the Rinkeby Test Network'\n    }\n    case 5: {\n      return 'the Görli Test Network'\n    }\n    case 42: {\n      return 'the Kovan Test Network'\n    }\n    default: {\n      return 'the correct network'\n    }\n  }\n}\n\nexport function shortenAddress(address, digits = 4) {\n  if (!isAddress(address)) {\n    throw Error(`Invalid 'address' parameter '${address}'.`)\n  }\n  return `${address.substring(0, digits + 2)}...${address.substring(42 - digits)}`\n}\n\nexport function shortenTransactionHash(hash, digits = 4) {\n  return `${hash.substring(0, digits + 2)}...${hash.substring(66 - digits)}`\n}\n\nexport function isAddress(value) {\n  try {\n    return ethers.utils.getAddress(value.toLowerCase())\n  } catch {\n    return false\n  }\n}\n\nexport function calculateGasMargin(value, margin) {\n  const offset = value.mul(margin).div(ethers.utils.bigNumberify(10000))\n  return value.add(offset)\n}\n\n// account is optional\nexport function getProviderOrSigner(library, account) {\n  return account ? new UncheckedJsonRpcSigner(library.getSigner(account)) : library\n}\n\n// account is optional\nexport function getContract(address, ABI, library, account) {\n  if (!isAddress(address) || address === ethers.constants.AddressZero) {\n    throw Error(`Invalid 'address' parameter '${address}'.`)\n  }\n\n  return new ethers.Contract(address, ABI, getProviderOrSigner(library, account))\n}\n\n// account is optional\nexport function getFactoryContract(networkId, library, account) {\n  return getContract(FACTORY_ADDRESSES[networkId], FACTORY_ABI, library, account)\n}\n\n// account is optional\nexport function getExchangeContract(exchangeAddress, library, account) {\n  return getContract(exchangeAddress, EXCHANGE_ABI, library, account)\n}\n\n// get token name\nexport async function getTokenName(tokenAddress, library) {\n  if (!isAddress(tokenAddress)) {\n    throw Error(`Invalid 'tokenAddress' parameter '${tokenAddress}'.`)\n  }\n\n  return getContract(tokenAddress, ERC20_ABI, library)\n    .name()\n    .catch(() =>\n      getContract(tokenAddress, ERC20_BYTES32_ABI, library)\n        .name()\n        .then(bytes32 => ethers.utils.parseBytes32String(bytes32))\n    )\n    .catch(error => {\n      error.code = ERROR_CODES.TOKEN_SYMBOL\n      throw error\n    })\n}\n\n// get token symbol\nexport async function getTokenSymbol(tokenAddress, library) {\n  if (!isAddress(tokenAddress)) {\n    throw Error(`Invalid 'tokenAddress' parameter '${tokenAddress}'.`)\n  }\n\n  return getContract(tokenAddress, ERC20_ABI, library)\n    .symbol()\n    .catch(() => {\n      const contractBytes32 = getContract(tokenAddress, ERC20_BYTES32_ABI, library)\n      return contractBytes32.symbol().then(bytes32 => ethers.utils.parseBytes32String(bytes32))\n    })\n    .catch(error => {\n      error.code = ERROR_CODES.TOKEN_SYMBOL\n      throw error\n    })\n}\n\n// get token decimals\nexport async function getTokenDecimals(tokenAddress, library) {\n  if (!isAddress(tokenAddress)) {\n    throw Error(`Invalid 'tokenAddress' parameter '${tokenAddress}'.`)\n  }\n\n  return getContract(tokenAddress, ERC20_ABI, library)\n    .decimals()\n    .catch(error => {\n      error.code = ERROR_CODES.TOKEN_DECIMALS\n      throw error\n    })\n}\n\n// get the exchange address for a token from the factory\nexport async function getTokenExchangeAddressFromFactory(tokenAddress, networkId, library) {\n  return getFactoryContract(networkId, library).getExchange(tokenAddress)\n}\n\n// get the ether balance of an address\nexport async function getEtherBalance(address, library) {\n  if (!isAddress(address)) {\n    throw Error(`Invalid 'address' parameter '${address}'`)\n  }\n  return library.getBalance(address)\n}\n\nexport function formatEthBalance(balance) {\n  return amountFormatter(balance, 18, 6)\n}\n\nexport function formatTokenBalance(balance, decimal) {\n  return !!(balance && Number.isInteger(decimal)) ? amountFormatter(balance, decimal, Math.min(4, decimal)) : 0\n}\n\nexport function formatToUsd(price) {\n  const format = { decimalSeparator: '.', groupSeparator: ',', groupSize: 3 }\n  const usdPrice = formatFixed(price, {\n    decimalPlaces: 2,\n    dropTrailingZeros: false,\n    format\n  })\n  return usdPrice\n}\n\n// get the token balance of an address\nexport async function getTokenBalance(tokenAddress, address, library) {\n  if (!isAddress(tokenAddress) || !isAddress(address)) {\n    throw Error(`Invalid 'tokenAddress' or 'address' parameter '${tokenAddress}' or '${address}'.`)\n  }\n\n  return getContract(tokenAddress, ERC20_ABI, library).balanceOf(address)\n}\n\n// get the token allowance\nexport async function getTokenAllowance(address, tokenAddress, spenderAddress, library) {\n  if (!isAddress(address) || !isAddress(tokenAddress) || !isAddress(spenderAddress)) {\n    throw Error(\n      \"Invalid 'address' or 'tokenAddress' or 'spenderAddress' parameter\" +\n        `'${address}' or '${tokenAddress}' or '${spenderAddress}'.`\n    )\n  }\n\n  return getContract(tokenAddress, ERC20_ABI, library).allowance(address, spenderAddress)\n}\n\n// amount must be a BigNumber, {base,display}Decimals must be Numbers\nexport function amountFormatter(amount, baseDecimals = 18, displayDecimals = 3, useLessThan = true) {\n  if (baseDecimals > 18 || displayDecimals > 18 || displayDecimals > baseDecimals) {\n    throw Error(`Invalid combination of baseDecimals '${baseDecimals}' and displayDecimals '${displayDecimals}.`)\n  }\n\n  // if balance is falsy, return undefined\n  if (!amount) {\n    return undefined\n  }\n  // if amount is 0, return\n  else if (amount.isZero()) {\n    return '0'\n  }\n  // amount > 0\n  else {\n    // amount of 'wei' in 1 'ether'\n    const baseAmount = ethers.utils.bigNumberify(10).pow(ethers.utils.bigNumberify(baseDecimals))\n\n    const minimumDisplayAmount = baseAmount.div(\n      ethers.utils.bigNumberify(10).pow(ethers.utils.bigNumberify(displayDecimals))\n    )\n\n    // if balance is less than the minimum display amount\n    if (amount.lt(minimumDisplayAmount)) {\n      return useLessThan\n        ? `<${ethers.utils.formatUnits(minimumDisplayAmount, baseDecimals)}`\n        : `${ethers.utils.formatUnits(amount, baseDecimals)}`\n    }\n    // if the balance is greater than the minimum display amount\n    else {\n      const stringAmount = ethers.utils.formatUnits(amount, baseDecimals)\n\n      // if there isn't a decimal portion\n      if (!stringAmount.match(/\\./)) {\n        return stringAmount\n      }\n      // if there is a decimal portion\n      else {\n        const [wholeComponent, decimalComponent] = stringAmount.split('.')\n        const roundedDecimalComponent = ethers.utils\n          .bigNumberify(decimalComponent.padEnd(baseDecimals, '0'))\n          .toString()\n          .padStart(baseDecimals, '0')\n          .substring(0, displayDecimals)\n\n        // decimals are too small to show\n        if (roundedDecimalComponent === '0'.repeat(displayDecimals)) {\n          return wholeComponent\n        }\n        // decimals are not too small to show\n        else {\n          return `${wholeComponent}.${roundedDecimalComponent.toString().replace(/0*$/, '')}`\n        }\n      }\n    }\n  }\n}\n","import { BigNumber } from '@uniswap/sdk'\n\n// returns a deep copied + sorted list of values, as well as a sortmap\nexport function sortBigNumbers(values) {\n  const valueMap = values.map((value, i) => ({ value, i }))\n\n  valueMap.sort((a, b) => {\n    if (a.value.isGreaterThan(b.value)) {\n      return 1\n    } else if (a.value.isLessThan(b.value)) {\n      return -1\n    } else {\n      return 0\n    }\n  })\n\n  return [\n    valueMap.map(element => values[element.i]),\n    values.map((_, i) => valueMap.findIndex(element => element.i === i))\n  ]\n}\n\nexport function getMedian(values) {\n  const [sortedValues, sortMap] = sortBigNumbers(values)\n  if (values.length % 2 === 0) {\n    const middle = values.length / 2\n    const indices = [middle - 1, middle]\n    return [\n      sortedValues[middle - 1].plus(sortedValues[middle]).dividedBy(2),\n      sortMap.map(element => (indices.includes(element) ? new BigNumber(0.5) : new BigNumber(0)))\n    ]\n  } else {\n    const middle = Math.floor(values.length / 2)\n    return [sortedValues[middle], sortMap.map(element => (element === middle ? new BigNumber(1) : new BigNumber(0)))]\n  }\n}\n\nexport function getMean(values, _weights) {\n  const weights = _weights ? _weights : values.map(() => new BigNumber(1))\n\n  const weightedValues = values.map((value, i) => value.multipliedBy(weights[i]))\n  const numerator = weightedValues.reduce(\n    (accumulator, currentValue) => accumulator.plus(currentValue),\n    new BigNumber(0)\n  )\n  const denominator = weights.reduce((accumulator, currentValue) => accumulator.plus(currentValue), new BigNumber(0))\n\n  return [numerator.dividedBy(denominator), weights.map(weight => weight.dividedBy(denominator))]\n}\n","import { getTokenReserves, getMarketDetails } from '@uniswap/sdk'\nimport { getMedian, getMean } from './math'\n\nconst DAI = 'DAI'\nconst USDC = 'USDC'\nconst TUSD = 'TUSD'\n\nconst USD_STABLECOINS = [DAI, USDC, TUSD]\n\nconst USD_STABLECOIN_ADDRESSES = [\n  '0x89d24A6b4CcB1B6fAA2625fE562bDD9a23260359',\n  '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48',\n  '0x8dd5fbCe2F6a956C3022bA3663759011Dd51e73E'\n]\n\nfunction forEachStablecoin(runner) {\n  return USD_STABLECOINS.map((stablecoin, index) => runner(index, stablecoin))\n}\n\nexport async function getUSDPrice(library) {\n  return Promise.all(forEachStablecoin(i => getTokenReserves(USD_STABLECOIN_ADDRESSES[i], library))).then(reserves => {\n    const ethReserves = forEachStablecoin(i => reserves[i].ethReserve.amount)\n    const marketDetails = forEachStablecoin(i => getMarketDetails(reserves[i], undefined))\n\n    const ethPrices = forEachStablecoin(i => marketDetails[i].marketRate.rateInverted)\n\n    const [median, medianWeights] = getMedian(ethPrices)\n    const [mean, meanWeights] = getMean(ethPrices)\n    const [weightedMean, weightedMeanWeights] = getMean(ethPrices, ethReserves)\n\n    const ethPrice = getMean([median, mean, weightedMean])[0]\n    const _stablecoinWeights = [\n      getMean([medianWeights[0], meanWeights[0], weightedMeanWeights[0]])[0],\n      getMean([medianWeights[1], meanWeights[1], weightedMeanWeights[1]])[0],\n      getMean([medianWeights[2], meanWeights[2], weightedMeanWeights[2]])[0]\n    ]\n    const stablecoinWeights = forEachStablecoin((i, stablecoin) => ({\n      [stablecoin]: _stablecoinWeights[i]\n    })).reduce((accumulator, currentValue) => ({ ...accumulator, ...currentValue }), {})\n\n    return [ethPrice, stablecoinWeights]\n  })\n}\n","import React, { createContext, useContext, useReducer, useMemo, useCallback, useEffect } from 'react'\nimport { useWeb3Context } from 'web3-react'\n\nimport { safeAccess } from '../utils'\nimport { getUSDPrice } from '../utils/price'\n\nconst BLOCK_NUMBER = 'BLOCK_NUMBER'\nconst USD_PRICE = 'USD_PRICE'\n\nconst UPDATE_BLOCK_NUMBER = 'UPDATE_BLOCK_NUMBER'\nconst UPDATE_USD_PRICE = 'UPDATE_USD_PRICE'\n\nconst ApplicationContext = createContext()\n\nfunction useApplicationContext() {\n  return useContext(ApplicationContext)\n}\n\nfunction reducer(state, { type, payload }) {\n  switch (type) {\n    case UPDATE_BLOCK_NUMBER: {\n      const { networkId, blockNumber } = payload\n      return {\n        ...state,\n        [BLOCK_NUMBER]: {\n          ...(safeAccess(state, [BLOCK_NUMBER]) || {}),\n          [networkId]: blockNumber\n        }\n      }\n    }\n    case UPDATE_USD_PRICE: {\n      const { networkId, USDPrice } = payload\n      return {\n        ...state,\n        [USD_PRICE]: {\n          ...(safeAccess(state, [USD_PRICE]) || {}),\n          [networkId]: USDPrice\n        }\n      }\n    }\n    default: {\n      throw Error(`Unexpected action type in ApplicationContext reducer: '${type}'.`)\n    }\n  }\n}\n\nexport default function Provider({ children }) {\n  const [state, dispatch] = useReducer(reducer, {\n    [BLOCK_NUMBER]: {},\n    [USD_PRICE]: {}\n  })\n\n  const updateBlockNumber = useCallback((networkId, blockNumber) => {\n    dispatch({ type: UPDATE_BLOCK_NUMBER, payload: { networkId, blockNumber } })\n  }, [])\n\n  const updateUSDPrice = useCallback((networkId, USDPrice) => {\n    dispatch({ type: UPDATE_USD_PRICE, payload: { networkId, USDPrice } })\n  }, [])\n\n  return (\n    <ApplicationContext.Provider\n      value={useMemo(() => [state, { updateBlockNumber, updateUSDPrice }], [state, updateBlockNumber, updateUSDPrice])}\n    >\n      {children}\n    </ApplicationContext.Provider>\n  )\n}\n\nexport function Updater() {\n  const { networkId, library } = useWeb3Context()\n\n  const globalBlockNumber = useBlockNumber()\n  const [, { updateBlockNumber, updateUSDPrice }] = useApplicationContext()\n\n  // slow down polling interval\n  // if (library && connectorName === 'Network' && library.pollingInterval !== 15) {\n  //   library.pollingInterval = 15\n  // } else if (library && library.pollingInterval !== 5) {\n  //   library.pollingInterval = 5\n  // }\n\n  // update usd price\n  useEffect(() => {\n    if (library && networkId === 1) {\n      let stale = false\n\n      getUSDPrice(library)\n        .then(([price]) => {\n          if (!stale) {\n            updateUSDPrice(networkId, price)\n          }\n        })\n        .catch(() => {\n          if (!stale) {\n            updateUSDPrice(networkId, null)\n          }\n        })\n    }\n  }, [globalBlockNumber, library, networkId, updateUSDPrice])\n\n  // update block number\n  useEffect(() => {\n    if (library) {\n      let stale = false\n\n      function update() {\n        library\n          .getBlockNumber()\n          .then(blockNumber => {\n            if (!stale) {\n              updateBlockNumber(networkId, blockNumber)\n            }\n          })\n          .catch(() => {\n            if (!stale) {\n              updateBlockNumber(networkId, null)\n            }\n          })\n      }\n\n      update()\n      library.on('block', update)\n\n      return () => {\n        stale = true\n        library.removeListener('block', update)\n      }\n    }\n  }, [networkId, library, updateBlockNumber])\n\n  return null\n}\n\nexport function useBlockNumber() {\n  const { networkId } = useWeb3Context()\n\n  const [state] = useApplicationContext()\n\n  return safeAccess(state, [BLOCK_NUMBER, networkId])\n}\n\nexport function useUSDPrice() {\n  const { networkId } = useWeb3Context()\n\n  const [state] = useApplicationContext()\n\n  return safeAccess(state, [USD_PRICE, networkId])\n}\n","import styled, { keyframes } from 'styled-components'\nimport { darken } from 'polished'\n\nexport const Button = styled.button.attrs(({ warning, theme }) => ({\n  backgroundColor: warning ? theme.salmonRed : theme.royalBlue\n}))`\n  padding: 1rem 2rem 1rem 2rem;\n  border-radius: 3rem;\n  cursor: pointer;\n  user-select: none;\n  font-size: 1rem;\n  border: none;\n  outline: none;\n  background-color: ${({ backgroundColor }) => backgroundColor};\n  color: ${({ theme }) => theme.white};\n  width: 100%;\n\n  :hover,\n  :focus {\n    background-color: ${({ backgroundColor }) => darken(0.05, backgroundColor)};\n  }\n\n  :active {\n    background-color: ${({ backgroundColor }) => darken(0.1, backgroundColor)};\n  }\n\n  :disabled {\n    background-color: ${({ theme }) => theme.concreteGray};\n    color: ${({ theme }) => theme.silverGray};\n    cursor: auto;\n  }\n`\n\nexport const Link = styled.a.attrs({\n  target: '_blank',\n  rel: 'noopener noreferrer'\n})`\n  text-decoration: none;\n  cursor: pointer;\n  color: ${({ theme }) => theme.uniswapBlue};\n\n  :focus {\n    outline: none;\n    text-decoration: underline;\n  }\n\n  :active {\n    text-decoration: none;\n  }\n`\n\nexport const BorderlessInput = styled.input`\n  color: ${({ theme }) => theme.textColor};\n  font-size: 1rem;\n  outline: none;\n  border: none;\n  flex: 1 1 auto;\n  width: 0;\n  background-color: ${({ theme }) => theme.inputBackground};\n\n  [type='number'] {\n    -moz-appearance: textfield;\n  }\n\n  ::-webkit-outer-spin-button,\n  ::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n  }\n\n  ::placeholder {\n    color: ${({ theme }) => theme.chaliceGray};\n  }\n`\n\nconst rotate = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n`\n\nexport const Spinner = styled.img`\n  animation: 2s ${rotate} linear infinite;\n  width: 16px;\n  height: 16px;\n`\n","import { useState, useMemo, useCallback, useEffect } from 'react'\nimport { useWeb3Context } from 'web3-react'\n\nimport ERC20_ABI from '../constants/abis/erc20'\nimport { getContract, getFactoryContract, getExchangeContract, isAddress } from '../utils'\nimport copy from 'copy-to-clipboard'\n\n// modified from https://usehooks.com/useDebounce/\nexport function useDebounce(value, delay) {\n  const [debouncedValue, setDebouncedValue] = useState(value)\n\n  useEffect(() => {\n    // Update debounced value after delay\n    const handler = setTimeout(() => {\n      setDebouncedValue(value)\n    }, delay)\n\n    // Cancel the timeout if value changes (also on delay change or unmount)\n    // This is how we prevent debounced value from updating if value is changed ...\n    // .. within the delay period. Timeout gets cleared and restarted.\n    return () => {\n      clearTimeout(handler)\n    }\n  }, [value, delay])\n\n  return debouncedValue\n}\n\n// modified from https://usehooks.com/useKeyPress/\nexport function useBodyKeyDown(targetKey, onKeyDown, suppressOnKeyDown = false) {\n  const downHandler = useCallback(\n    event => {\n      const {\n        target: { tagName },\n        key\n      } = event\n      if (key === targetKey && tagName === 'BODY' && !suppressOnKeyDown) {\n        event.preventDefault()\n        onKeyDown()\n      }\n    },\n    [targetKey, onKeyDown, suppressOnKeyDown]\n  )\n\n  useEffect(() => {\n    window.addEventListener('keydown', downHandler)\n    return () => {\n      window.removeEventListener('keydown', downHandler)\n    }\n  }, [downHandler])\n}\n\nexport function useENSName(address) {\n  const { library } = useWeb3Context()\n\n  const [ENSName, setENSName] = useState()\n\n  useEffect(() => {\n    if (isAddress(address)) {\n      let stale = false\n      try {\n        library.lookupAddress(address).then(name => {\n          if (!stale) {\n            if (name) {\n              setENSName(name)\n            } else {\n              setENSName(null)\n            }\n          }\n        })\n      } catch {\n        setENSName(null)\n      }\n\n      return () => {\n        stale = true\n        setENSName()\n      }\n    }\n  }, [library, address])\n\n  return ENSName\n}\n\n// returns null on errors\nexport function useContract(address, ABI, withSignerIfPossible = true) {\n  const { library, account } = useWeb3Context()\n\n  return useMemo(() => {\n    try {\n      return getContract(address, ABI, library, withSignerIfPossible ? account : undefined)\n    } catch {\n      return null\n    }\n  }, [address, ABI, library, withSignerIfPossible, account])\n}\n\n// returns null on errors\nexport function useTokenContract(tokenAddress, withSignerIfPossible = true) {\n  const { library, account } = useWeb3Context()\n\n  return useMemo(() => {\n    try {\n      return getContract(tokenAddress, ERC20_ABI, library, withSignerIfPossible ? account : undefined)\n    } catch {\n      return null\n    }\n  }, [tokenAddress, library, withSignerIfPossible, account])\n}\n\n// returns null on errors\nexport function useFactoryContract(withSignerIfPossible = true) {\n  const { networkId, library, account } = useWeb3Context()\n\n  return useMemo(() => {\n    try {\n      return getFactoryContract(networkId, library, withSignerIfPossible ? account : undefined)\n    } catch {\n      return null\n    }\n  }, [networkId, library, withSignerIfPossible, account])\n}\n\nexport function useExchangeContract(exchangeAddress, withSignerIfPossible = true) {\n  const { library, account } = useWeb3Context()\n\n  return useMemo(() => {\n    try {\n      return getExchangeContract(exchangeAddress, library, withSignerIfPossible ? account : undefined)\n    } catch {\n      return null\n    }\n  }, [exchangeAddress, library, withSignerIfPossible, account])\n}\n\nexport function useCopyClipboard(timeout = 500) {\n  const [isCopied, setIsCopied] = useState(false)\n\n  const staticCopy = useCallback(text => {\n    const didCopy = copy(text)\n    setIsCopied(didCopy)\n  }, [])\n\n  useEffect(() => {\n    if (isCopied) {\n      const hide = setTimeout(() => {\n        setIsCopied(false)\n      }, timeout)\n\n      return () => {\n        clearTimeout(hide)\n      }\n    }\n  }, [isCopied, setIsCopied, timeout])\n\n  return [isCopied, staticCopy]\n}\n","import React, { createContext, useContext, useReducer, useMemo, useCallback, useEffect } from 'react'\nimport { useWeb3Context } from 'web3-react'\nimport { ethers } from 'ethers'\n\nimport {\n  isAddress,\n  getTokenName,\n  getTokenSymbol,\n  getTokenDecimals,\n  getTokenExchangeAddressFromFactory,\n  safeAccess\n} from '../utils'\n\nconst NAME = 'name'\nconst SYMBOL = 'symbol'\nconst DECIMALS = 'decimals'\nconst EXCHANGE_ADDRESS = 'exchangeAddress'\n\nconst UPDATE = 'UPDATE'\n\nconst ETH = {\n  ETH: {\n    [NAME]: 'Ether',\n    [SYMBOL]: 'ETH',\n    [DECIMALS]: 18,\n    [EXCHANGE_ADDRESS]: null\n  }\n}\n\nconst INITIAL_TOKENS_CONTEXT = {\n  1: {\n    '0x737F98AC8cA59f2C68aD658E3C3d8C8963E40a4c': {\n      [NAME]: 'Amon',\n      [SYMBOL]: 'AMN',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0xE6C198d27a5B71144B40cFa2362ae3166728e0C8'\n    },\n    '0xD46bA6D942050d489DBd938a2C909A5d5039A161': {\n      [NAME]: 'Ampleforth',\n      [SYMBOL]: 'AMPL',\n      [DECIMALS]: 9,\n      [EXCHANGE_ADDRESS]: '0x042dBBDc27F75d277C3D99efE327DB21Bc4fde75'\n    },\n    '0x960b236A07cf122663c4303350609A66A7B288C0': {\n      [NAME]: 'Aragon Network Token',\n      [SYMBOL]: 'ANT',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0x077d52B047735976dfdA76feF74d4d988AC25196'\n    },\n    '0x0D8775F648430679A709E98d2b0Cb6250d2887EF': {\n      [NAME]: 'Basic Attention Token',\n      [SYMBOL]: 'BAT',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0x2E642b8D59B45a1D8c5aEf716A84FF44ea665914'\n    },\n    '0x107c4504cd79C5d2696Ea0030a8dD4e92601B82e': {\n      [NAME]: 'Bloom Token',\n      [SYMBOL]: 'BLT',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0x0E6A53B13688018A3df8C69f99aFB19A3068D04f'\n    },\n    '0x1F573D6Fb3F13d689FF844B4cE37794d79a7FF1C': {\n      [NAME]: 'Bancor Network Token',\n      [SYMBOL]: 'BNT',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0x87d80DBD37E551F58680B4217b23aF6a752DA83F'\n    },\n    '0x26E75307Fc0C021472fEb8F727839531F112f317': {\n      [NAME]: 'Crypto20',\n      [SYMBOL]: 'C20',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0xF7B5A4b934658025390ff69dB302BC7F2AC4a542'\n    },\n    '0xF5DCe57282A584D2746FaF1593d3121Fcac444dC': {\n      [NAME]: 'Compound Dai',\n      [SYMBOL]: 'cDAI',\n      [DECIMALS]: 8,\n      [EXCHANGE_ADDRESS]: '0x45A2FDfED7F7a2c791fb1bdF6075b83faD821ddE'\n    },\n    '0x41e5560054824eA6B0732E656E3Ad64E20e94E45': {\n      [NAME]: 'Civic',\n      [SYMBOL]: 'CVC',\n      [DECIMALS]: 8,\n      [EXCHANGE_ADDRESS]: '0x1C6c712b1F4a7c263B1DBd8F97fb447c945d3b9a'\n    },\n    '0x89d24A6b4CcB1B6fAA2625fE562bDD9a23260359': {\n      [NAME]: 'Dai Stablecoin v1.0 (SAI)',\n      [SYMBOL]: 'SAI',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0x09cabEC1eAd1c0Ba254B09efb3EE13841712bE14'\n    },\n    '0x0Cf0Ee63788A0849fE5297F3407f701E122cC023': {\n      [NAME]: 'Streamr DATAcoin',\n      [SYMBOL]: 'DATA',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0x4F0d6E2179938828CfF93dA40a8BA1Df7519Ca8C'\n    },\n    '0xE0B7927c4aF23765Cb51314A0E0521A9645F0E2A': {\n      [NAME]: 'DigixDAO',\n      [SYMBOL]: 'DGD',\n      [DECIMALS]: 9,\n      [EXCHANGE_ADDRESS]: '0xD55C1cA9F5992A2e5E379DCe49Abf24294ABe055'\n    },\n    '0x4f3AfEC4E5a3F2A6a1A411DEF7D7dFe50eE057bF': {\n      [NAME]: 'Digix Gold Token',\n      [SYMBOL]: 'DGX',\n      [DECIMALS]: 9,\n      [EXCHANGE_ADDRESS]: '0xb92dE8B30584392Af27726D5ce04Ef3c4e5c9924'\n    },\n    '0xc719d010B63E5bbF2C0551872CD5316ED26AcD83': {\n      [NAME]: 'Decentralized Insurance Protocol',\n      [SYMBOL]: 'DIP',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0x61792F290e5100FBBcBb2309F03A1Bab869fb850'\n    },\n    '0xF629cBd94d3791C9250152BD8dfBDF380E2a3B9c': {\n      [NAME]: 'Enjin Coin',\n      [SYMBOL]: 'ENJ',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0xb99A23b1a4585fc56d0EC3B76528C27cAd427473'\n    },\n    '0x4946Fcea7C692606e8908002e55A582af44AC121': {\n      [NAME]: 'FOAM Token',\n      [SYMBOL]: 'FOAM',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0xf79cb3BEA83BD502737586A6E8B133c378FD1fF2'\n    },\n    '0x419D0d8BdD9aF5e606Ae2232ed285Aff190E711b': {\n      [NAME]: 'FunFair',\n      [SYMBOL]: 'FUN',\n      [DECIMALS]: 8,\n      [EXCHANGE_ADDRESS]: '0x60a87cC7Fca7E53867facB79DA73181B1bB4238B'\n    },\n    '0x543Ff227F64Aa17eA132Bf9886cAb5DB55DCAddf': {\n      [NAME]: 'DAOstack',\n      [SYMBOL]: 'GEN',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0x26Cc0EAb6Cb650B0Db4D0d0dA8cB5BF69F4ad692'\n    },\n    '0x6810e776880C02933D47DB1b9fc05908e5386b96': {\n      [NAME]: 'Gnosis Token',\n      [SYMBOL]: 'GNO',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0xe8e45431b93215566BA923a7E611B7342Ea954DF'\n    },\n    '0x12B19D3e2ccc14Da04FAe33e63652ce469b3F2FD': {\n      [NAME]: 'GRID Token',\n      [SYMBOL]: 'GRID',\n      [DECIMALS]: 12,\n      [EXCHANGE_ADDRESS]: '0x4B17685b330307C751B47f33890c8398dF4Fe407'\n    },\n    '0x14094949152EDDBFcd073717200DA82fEd8dC960': {\n      [NAME]: 'bZx DAI iToken ',\n      [SYMBOL]: 'iDAI',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0x81eeD7F1EcbD7FA9978fcc7584296Fb0C215Dc5C'\n    },\n    '0x6fB3e0A217407EFFf7Ca062D46c26E5d60a14d69': {\n      [NAME]: 'IoTeX Network',\n      [SYMBOL]: 'IOTX',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0x084f002671a5f03D5498B1e5fb15fc0cfee9a470'\n    },\n    '0x818Fc6C2Ec5986bc6E2CBf00939d90556aB12ce5': {\n      [NAME]: 'Kin',\n      [SYMBOL]: 'KIN',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0xb7520a5F8c832c573d6BD0Df955fC5c9b72400F7'\n    },\n    '0xdd974D5C2e2928deA5F71b9825b8b646686BD200': {\n      [NAME]: 'Kyber Network Crystal',\n      [SYMBOL]: 'KNC',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0x49c4f9bc14884f6210F28342ceD592A633801a8b'\n    },\n    '0x514910771AF9Ca656af840dff83E8264EcF986CA': {\n      [NAME]: 'ChainLink Token',\n      [SYMBOL]: 'LINK',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0xF173214C720f58E03e194085B1DB28B50aCDeeaD'\n    },\n    '0x6c6EE5e31d828De241282B9606C8e98Ea48526E2': {\n      [NAME]: 'HoloToken',\n      [SYMBOL]: 'HOT',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0xd4777E164c6C683E10593E08760B803D58529a8E'\n    },\n    '0xBBbbCA6A901c926F240b89EacB641d8Aec7AEafD': {\n      [NAME]: 'LoopringCoin V2',\n      [SYMBOL]: 'LRC',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0xA539BAaa3aCA455c986bB1E25301CEF936CE1B65'\n    },\n    '0x80fB784B7eD66730e8b1DBd9820aFD29931aab03': {\n      [NAME]: 'EthLend Token',\n      [SYMBOL]: 'LEND',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0xcaA7e4656f6A2B59f5f99c745F91AB26D1210DCe'\n    },\n    '0xA4e8C3Ec456107eA67d3075bF9e3DF3A75823DB0': {\n      [NAME]: 'LoomToken',\n      [SYMBOL]: 'LOOM',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0x417CB32bc991fBbDCaE230C7c4771CC0D69daA6b'\n    },\n    '0x58b6A8A3302369DAEc383334672404Ee733aB239': {\n      [NAME]: 'Livepeer Token',\n      [SYMBOL]: 'LPT',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0xc4a1C45D5546029Fd57128483aE65b56124BFA6A'\n    },\n    '0xD29F0b5b3F50b07Fe9a9511F7d86F4f4bAc3f8c4': {\n      [NAME]: 'Liquidity.Network Token',\n      [SYMBOL]: 'LQD',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0xe3406e7D0155E0a83236eC25D34Cd3D903036669'\n    },\n    '0x0F5D2fB29fb7d3CFeE444a200298f468908cC942': {\n      [NAME]: 'Decentraland MANA',\n      [SYMBOL]: 'MANA',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0xC6581Ce3A005e2801c1e0903281BBd318eC5B5C2'\n    },\n    '0x7D1AfA7B718fb893dB30A3aBc0Cfc608AaCfeBB0': {\n      [NAME]: 'Matic Token',\n      [SYMBOL]: 'MATIC',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0x9a7A75E66B325a3BD46973B2b57c9b8d9D26a621'\n    },\n    '0x8888889213DD4dA823EbDD1e235b09590633C150': {\n      [NAME]: 'Marblecoin',\n      [SYMBOL]: 'MBC',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0xE1b7AeC3639068b474bFbcB916580fc28A20717B'\n    },\n    '0x80f222a749a2e18Eb7f676D371F19ad7EFEEe3b7': {\n      [NAME]: 'Magnolia Token',\n      [SYMBOL]: 'MGN',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0xdd80Ca8062c7Ef90FcA2547E6a2A126C596e611F'\n    },\n    '0x9f8F72aA9304c8B593d555F12eF6589cC3A579A2': {\n      [NAME]: 'Maker',\n      [SYMBOL]: 'MKR',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0x2C4Bd064b998838076fa341A83d007FC2FA50957'\n    },\n    '0xec67005c4E498Ec7f55E092bd1d35cbC47C91892': {\n      [NAME]: 'Melon Token',\n      [SYMBOL]: 'MLN',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0xA931F4eB165AC307fD7431b5EC6eADde53E14b0C'\n    },\n    '0x957c30aB0426e0C93CD8241E2c60392d08c6aC8e': {\n      [NAME]: 'Modum Token',\n      [SYMBOL]: 'MOD',\n      [DECIMALS]: 0,\n      [EXCHANGE_ADDRESS]: '0xCCB98654CD486216fFF273dd025246588E77cFC1'\n    },\n    '0xB62132e35a6c13ee1EE0f84dC5d40bad8d815206': {\n      [NAME]: 'Nexo',\n      [SYMBOL]: 'NEXO',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0x069C97DBA948175D10af4b2414969e0B88d44669'\n    },\n    '0x1776e1F26f98b1A5dF9cD347953a26dd3Cb46671': {\n      [NAME]: 'Numeraire',\n      [SYMBOL]: 'NMR',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0x2Bf5A5bA29E60682fC56B2Fcf9cE07Bef4F6196f'\n    },\n    '0xD56daC73A4d6766464b38ec6D91eB45Ce7457c44': {\n      [NAME]: 'Panvala pan',\n      [SYMBOL]: 'PAN',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0xF53bBFBff01c50F2D42D542b09637DcA97935fF7'\n    },\n    '0x8E870D67F660D95d5be530380D0eC0bd388289E1': {\n      [NAME]: 'PAX',\n      [SYMBOL]: 'PAX',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0xC040d51b07Aea5d94a89Bc21E8078B77366Fc6C7'\n    },\n    '0x93ED3FBe21207Ec2E8f2d3c3de6e058Cb73Bc04d': {\n      [NAME]: 'Pinakion',\n      [SYMBOL]: 'PNK',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0xF506828B166de88cA2EDb2A98D960aBba0D2402A'\n    },\n    '0x6758B7d441a9739b98552B373703d8d3d14f9e62': {\n      [NAME]: 'POA ERC20 on Foundation',\n      [SYMBOL]: 'POA20',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0xA2E6B3EF205FeAEe475937c4883b24E6eB717eeF'\n    },\n    '0x687BfC3E73f6af55F0CccA8450114D107E781a0e': {\n      [NAME]: 'QChi',\n      [SYMBOL]: 'QCH',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0x755899F0540c3548b99E68C59AdB0f15d2695188'\n    },\n    '0x99ea4dB9EE77ACD40B119BD1dC4E33e1C070b80d': {\n      [NAME]: 'Quantstamp Token',\n      [SYMBOL]: 'QSP',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0x82Db9FC4956Fa40efe1e35d881004612B5CB2cc2'\n    },\n    '0xF970b8E36e23F7fC3FD752EeA86f8Be8D83375A6': {\n      [NAME]: 'Ripio Credit Network Token',\n      [SYMBOL]: 'RCN',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0xD91FF16Ef92568fC27F466C3c5613e43313Ab1dc'\n    },\n    '0x255Aa6DF07540Cb5d3d297f0D0D4D84cb52bc8e6': {\n      [NAME]: 'Raiden Token',\n      [SYMBOL]: 'RDN',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0x7D03CeCb36820b4666F45E1b4cA2538724Db271C'\n    },\n    '0x408e41876cCCDC0F92210600ef50372656052a38': {\n      [NAME]: 'Republic Token',\n      [SYMBOL]: 'REN',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0x43892992B0b102459E895B88601Bb2C76736942c'\n    },\n    '0x1985365e9f78359a9B6AD760e32412f4a445E862': {\n      [NAME]: 'Reputation',\n      [SYMBOL]: 'REP',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0x48B04d2A05B6B604d8d5223Fd1984f191DED51af'\n    },\n    '0x168296bb09e24A88805CB9c33356536B980D3fC5': {\n      [NAME]: 'RHOC',\n      [SYMBOL]: 'RHOC',\n      [DECIMALS]: 8,\n      [EXCHANGE_ADDRESS]: '0x394e524b47A3AB3D3327f7fF6629dC378c1494a3'\n    },\n    '0x9469D013805bFfB7D3DEBe5E7839237e535ec483': {\n      [NAME]: 'Darwinia Network Native Token',\n      [SYMBOL]: 'RING',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0xeBD8AA50b26bFa63007d61eBa777A9DdE7e43c64'\n    },\n    '0x607F4C5BB672230e8672085532f7e901544a7375': {\n      [NAME]: 'iEx.ec Network Token',\n      [SYMBOL]: 'RLC',\n      [DECIMALS]: 9,\n      [EXCHANGE_ADDRESS]: '0xA825CAE02B310E9901b4776806CE25db520c8642'\n    },\n    '0xB4EFd85c19999D84251304bDA99E90B92300Bd93': {\n      [NAME]: 'Rocket Pool',\n      [SYMBOL]: 'RPL',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0x3Fb2F18065926DdB33E7571475c509541d15dA0e'\n    },\n    '0x4156D3342D5c385a87D264F90653733592000581': {\n      [NAME]: 'Salt',\n      [SYMBOL]: 'SALT',\n      [DECIMALS]: 8,\n      [EXCHANGE_ADDRESS]: '0xC0C59cDe851bfcbdddD3377EC10ea54A18Efb937'\n    },\n    '0x7C5A0CE9267ED19B22F8cae653F198e3E8daf098': {\n      [NAME]: 'SANtiment network token',\n      [SYMBOL]: 'SAN',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0x8a8D7aD4b89D91983cd069C58C4AA9F2f4166298'\n    },\n    '0x5e74C9036fb86BD7eCdcb084a0673EFc32eA31cb': {\n      [NAME]: 'Synth sETH',\n      [SYMBOL]: 'sETH',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0xe9Cf7887b93150D4F2Da7dFc6D502B216438F244'\n    },\n    '0x3A9FfF453d50D4Ac52A6890647b823379ba36B9E': {\n      [NAME]: 'Shuffle.Monster V3',\n      [SYMBOL]: 'SHUF',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0x536956Fab86774fb55CfaAcF496BC25E4d2B435C'\n    },\n    '0x744d70FDBE2Ba4CF95131626614a1763DF805B9E': {\n      [NAME]: 'Status Network Token',\n      [SYMBOL]: 'SNT',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0x1aEC8F11A7E78dC22477e91Ed924Fab46e3A88Fd'\n    },\n    '0xC011a73ee8576Fb46F5E1c5751cA3B9Fe0af2a6F': {\n      [NAME]: 'Synthetix Network Token',\n      [SYMBOL]: 'SNX',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0x3958B4eC427F8fa24eB60F42821760e88d485f7F'\n    },\n    '0x23B608675a2B2fB1890d3ABBd85c5775c51691d5': {\n      [NAME]: 'Unisocks Edition 0',\n      [SYMBOL]: 'SOCKS',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0x22d8432cc7aA4f8712a655fC4cdfB1baEC29FCA9'\n    },\n    '0x42d6622deCe394b54999Fbd73D108123806f6a18': {\n      [NAME]: 'SPANK',\n      [SYMBOL]: 'SPANK',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0x4e395304655F0796bc3bc63709DB72173b9DdF98'\n    },\n    '0xB64ef51C888972c908CFacf59B47C1AfBC0Ab8aC': {\n      [NAME]: 'StorjToken',\n      [SYMBOL]: 'STORJ',\n      [DECIMALS]: 8,\n      [EXCHANGE_ADDRESS]: '0xA7298541E52f96d42382eCBe4f242cBcBC534d02'\n    },\n    '0x57Ab1ec28D129707052df4dF418D58a2D46d5f51': {\n      [NAME]: 'Synth sUSD',\n      [SYMBOL]: 'sUSD',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0xB944d13b2f4047fc7bd3F7013bcf01b115fb260d'\n    },\n    '0x00006100F7090010005F1bd7aE6122c3C2CF0090': {\n      [NAME]: 'TrueAUD',\n      [SYMBOL]: 'TAUD',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0x88dF13889E20EFa93Ff9a0C08f101F431bD9DDD7'\n    },\n    '0x00000100F2A2bd000715001920eB70D229700085': {\n      [NAME]: 'TrueCAD',\n      [SYMBOL]: 'TCAD',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0xF996D7d9BaCb9217ca64BBce1b1cD72E0E886Be6'\n    },\n    '0x00000000441378008EA67F4284A57932B1c000a5': {\n      [NAME]: 'TrueGBP',\n      [SYMBOL]: 'TGBP',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0x6bFa119a191576Ba26Bc5e711432aCA0cFda04DE'\n    },\n    '0x0000852600CEB001E08e00bC008be620d60031F2': {\n      [NAME]: 'TrueHKD',\n      [SYMBOL]: 'THKD',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0x505C02B4aa1286375FBDF0c390AC0fe9209DCB05'\n    },\n    '0xaAAf91D9b90dF800Df4F55c205fd6989c977E73a': {\n      [NAME]: 'Monolith TKN',\n      [SYMBOL]: 'TKN',\n      [DECIMALS]: 8,\n      [EXCHANGE_ADDRESS]: '0xb6cFBf322db47D39331E306005DC7E5e6549942B'\n    },\n    '0x0000000000085d4780B73119b644AE5ecd22b376': {\n      [NAME]: 'TrueUSD',\n      [SYMBOL]: 'TUSD',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0x5048b9d01097498Fd72F3F14bC9Bc74A5aAc8fA7'\n    },\n    '0x09cabEC1eAd1c0Ba254B09efb3EE13841712bE14': {\n      [NAME]: 'Uniswap V1',\n      [SYMBOL]: 'UNI-V1:SAI',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0x601c32E0580D3aef9437dB52D09f5a5D7E60eC22'\n    },\n    '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48': {\n      [NAME]: 'USD//C',\n      [SYMBOL]: 'USDC',\n      [DECIMALS]: 6,\n      [EXCHANGE_ADDRESS]: '0x97deC872013f6B5fB443861090ad931542878126'\n    },\n    '0x8f3470A7388c05eE4e7AF3d01D8C722b0FF52374': {\n      [NAME]: 'Veritaseum',\n      [SYMBOL]: 'VERI',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0x17e5BF07D696eaf0d14caA4B44ff8A1E17B34de3'\n    },\n    '0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599': {\n      [NAME]: 'Wrapped BTC',\n      [SYMBOL]: 'WBTC',\n      [DECIMALS]: 8,\n      [EXCHANGE_ADDRESS]: '0x4d2f5cFbA55AE412221182D8475bC85799A5644b'\n    },\n    '0x09fE5f0236F0Ea5D930197DCE254d77B04128075': {\n      [NAME]: 'Wrapped CryptoKitties',\n      [SYMBOL]: 'WCK',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0x4FF7Fa493559c40aBd6D157a0bfC35Df68d8D0aC'\n    },\n    '0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2': {\n      [NAME]: 'Wrapped Ether',\n      [SYMBOL]: 'WETH',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0xA2881A90Bf33F03E7a3f803765Cd2ED5c8928dFb'\n    },\n    '0xB4272071eCAdd69d933AdcD19cA99fe80664fc08': {\n      [NAME]: 'CryptoFranc',\n      [SYMBOL]: 'XCHF',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0x8dE0d002DC83478f479dC31F76cB0a8aa7CcEa17'\n    },\n    '0xE41d2489571d322189246DaFA5ebDe1F4699F498': {\n      [NAME]: '0x Protocol Token',\n      [SYMBOL]: 'ZRX',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0xaE76c84C9262Cdb9abc0C2c8888e62Db8E22A0bF'\n    },\n    '0x6B175474E89094C44Da98b954EedeAC495271d0F': {\n      [NAME]: 'Dai Stablecoin',\n      [SYMBOL]: 'DAI',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0x2a1530C4C41db0B0b2bB646CB5Eb1A67b7158667'\n    }\n  },\n  4: {\n    '0x5592EC0cfb4dbc12D3aB100b257153436a1f0FEa': {\n      [NAME]: 'Dai',\n      [SYMBOL]: 'DAI',\n      [DECIMALS]: 18,\n      [EXCHANGE_ADDRESS]: '0xaF51BaAA766b65E8B3Ee0C2c33186325ED01eBD5'\n    }\n  }\n}\n\nconst TokensContext = createContext()\n\nfunction useTokensContext() {\n  return useContext(TokensContext)\n}\n\nfunction reducer(state, { type, payload }) {\n  switch (type) {\n    case UPDATE: {\n      const { networkId, tokenAddress, name, symbol, decimals, exchangeAddress } = payload\n      return {\n        ...state,\n        [networkId]: {\n          ...(safeAccess(state, [networkId]) || {}),\n          [tokenAddress]: {\n            [NAME]: name,\n            [SYMBOL]: symbol,\n            [DECIMALS]: decimals,\n            [EXCHANGE_ADDRESS]: exchangeAddress\n          }\n        }\n      }\n    }\n    default: {\n      throw Error(`Unexpected action type in TokensContext reducer: '${type}'.`)\n    }\n  }\n}\n\nexport default function Provider({ children }) {\n  const [state, dispatch] = useReducer(reducer, INITIAL_TOKENS_CONTEXT)\n\n  const update = useCallback((networkId, tokenAddress, name, symbol, decimals, exchangeAddress) => {\n    dispatch({ type: UPDATE, payload: { networkId, tokenAddress, name, symbol, decimals, exchangeAddress } })\n  }, [])\n\n  return (\n    <TokensContext.Provider value={useMemo(() => [state, { update }], [state, update])}>\n      {children}\n    </TokensContext.Provider>\n  )\n}\n\nexport function useTokenDetails(tokenAddress) {\n  const { networkId, library } = useWeb3Context()\n\n  const [state, { update }] = useTokensContext()\n  const allTokensInNetwork = { ...ETH, ...(safeAccess(state, [networkId]) || {}) }\n  const { [NAME]: name, [SYMBOL]: symbol, [DECIMALS]: decimals, [EXCHANGE_ADDRESS]: exchangeAddress } =\n    safeAccess(allTokensInNetwork, [tokenAddress]) || {}\n\n  useEffect(() => {\n    if (\n      isAddress(tokenAddress) &&\n      (name === undefined || symbol === undefined || decimals === undefined || exchangeAddress === undefined) &&\n      (networkId || networkId === 0) &&\n      library\n    ) {\n      let stale = false\n\n      const namePromise = getTokenName(tokenAddress, library).catch(() => null)\n      const symbolPromise = getTokenSymbol(tokenAddress, library).catch(() => null)\n      const decimalsPromise = getTokenDecimals(tokenAddress, library).catch(() => null)\n      const exchangeAddressPromise = getTokenExchangeAddressFromFactory(tokenAddress, networkId, library).catch(\n        () => null\n      )\n\n      Promise.all([namePromise, symbolPromise, decimalsPromise, exchangeAddressPromise]).then(\n        ([resolvedName, resolvedSymbol, resolvedDecimals, resolvedExchangeAddress]) => {\n          if (!stale) {\n            update(networkId, tokenAddress, resolvedName, resolvedSymbol, resolvedDecimals, resolvedExchangeAddress)\n          }\n        }\n      )\n      return () => {\n        stale = true\n      }\n    }\n  }, [tokenAddress, name, symbol, decimals, exchangeAddress, networkId, library, update])\n\n  return { name, symbol, decimals, exchangeAddress }\n}\n\nexport function useAllTokenDetails(requireExchange = true) {\n  const { networkId } = useWeb3Context()\n\n  const [state] = useTokensContext()\n  const tokenDetails = { ...ETH, ...(safeAccess(state, [networkId]) || {}) }\n\n  return requireExchange\n    ? Object.keys(tokenDetails)\n        .filter(\n          tokenAddress =>\n            tokenAddress === 'ETH' ||\n            (safeAccess(tokenDetails, [tokenAddress, EXCHANGE_ADDRESS]) &&\n              safeAccess(tokenDetails, [tokenAddress, EXCHANGE_ADDRESS]) !== ethers.constants.AddressZero)\n        )\n        .reduce((accumulator, tokenAddress) => {\n          accumulator[tokenAddress] = tokenDetails[tokenAddress]\n          return accumulator\n        }, {})\n    : tokenDetails\n}\n","export const FACTORY_ADDRESSES = {\n  1: '0xc0a47dFe034B400B47bDaD5FecDa2621de6c4d95',\n  3: '0x9c83dCE8CA20E9aAF9D3efc003b2ea62aBC08351',\n  4: '0xf5D915570BC477f9B8D6C0E980aA81757A3AaC36',\n  42: '0xD3E51Ef092B2845f10401a0159B2B96e8B6c3D30'\n}\n\nexport const SUPPORTED_THEMES = {\n  DARK: 'DARK',\n  LIGHT: 'LIGHT'\n}\n\n// list of tokens that lock fund on adding liquidity - used to disable button\nexport const brokenTokens = [\n  '0xb8c77482e45f1f44de1745f52c74426c631bdd52',\n  '0x95daaab98046846bf4b2853e23cba236fa394a31',\n  '0x55296f69f40ea6d20e478533c15a6b08b654e758'\n]\n","module.exports = __webpack_public_path__ + \"static/media/circle.2d975615.svg\";","import React, { createContext, useContext, useReducer, useMemo, useCallback, useEffect } from 'react'\nimport { useWeb3Context } from 'web3-react'\n\nimport { safeAccess } from '../utils'\nimport { useBlockNumber } from './Application'\n\nconst RESPONSE = 'response'\nconst CUSTOM_DATA = 'CUSTOM_DATA'\nconst BLOCK_NUMBER_CHECKED = 'BLOCK_NUMBER_CHECKED'\nconst RECEIPT = 'receipt'\n\nconst ADD = 'ADD'\nconst CHECK = 'CHECK'\nconst FINALIZE = 'FINALIZE'\n\nconst TransactionsContext = createContext()\n\nexport function useTransactionsContext() {\n  return useContext(TransactionsContext)\n}\n\nfunction reducer(state, { type, payload }) {\n  switch (type) {\n    case ADD: {\n      const { networkId, hash, response } = payload\n\n      if (safeAccess(state, [networkId, hash]) !== null) {\n        throw Error('Attempted to add existing transaction.')\n      }\n\n      return {\n        ...state,\n        [networkId]: {\n          ...(safeAccess(state, [networkId]) || {}),\n          [hash]: {\n            [RESPONSE]: response\n          }\n        }\n      }\n    }\n    case CHECK: {\n      const { networkId, hash, blockNumber } = payload\n\n      if (safeAccess(state, [networkId, hash]) === null) {\n        throw Error('Attempted to check non-existent transaction.')\n      }\n\n      return {\n        ...state,\n        [networkId]: {\n          ...(safeAccess(state, [networkId]) || {}),\n          [hash]: {\n            ...(safeAccess(state, [networkId, hash]) || {}),\n            [BLOCK_NUMBER_CHECKED]: blockNumber\n          }\n        }\n      }\n    }\n    case FINALIZE: {\n      const { networkId, hash, receipt } = payload\n\n      if (safeAccess(state, [networkId, hash]) === null) {\n        throw Error('Attempted to finalize non-existent transaction.')\n      }\n\n      return {\n        ...state,\n        [networkId]: {\n          ...(safeAccess(state, [networkId]) || {}),\n          [hash]: {\n            ...(safeAccess(state, [networkId, hash]) || {}),\n            [RECEIPT]: receipt\n          }\n        }\n      }\n    }\n    default: {\n      throw Error(`Unexpected action type in TransactionsContext reducer: '${type}'.`)\n    }\n  }\n}\n\nexport default function Provider({ children }) {\n  const [state, dispatch] = useReducer(reducer, {})\n\n  const add = useCallback((networkId, hash, response) => {\n    dispatch({ type: ADD, payload: { networkId, hash, response } })\n  }, [])\n  const check = useCallback((networkId, hash, blockNumber) => {\n    dispatch({ type: CHECK, payload: { networkId, hash, blockNumber } })\n  }, [])\n  const finalize = useCallback((networkId, hash, receipt) => {\n    dispatch({ type: FINALIZE, payload: { networkId, hash, receipt } })\n  }, [])\n\n  return (\n    <TransactionsContext.Provider\n      value={useMemo(() => [state, { add, check, finalize }], [state, add, check, finalize])}\n    >\n      {children}\n    </TransactionsContext.Provider>\n  )\n}\n\nexport function Updater() {\n  const { networkId, library } = useWeb3Context()\n\n  const globalBlockNumber = useBlockNumber()\n\n  const [state, { check, finalize }] = useTransactionsContext()\n  const allTransactions = safeAccess(state, [networkId]) || {}\n\n  useEffect(() => {\n    if ((networkId || networkId === 0) && library) {\n      let stale = false\n      Object.keys(allTransactions)\n        .filter(\n          hash => !allTransactions[hash][RECEIPT] && allTransactions[hash][BLOCK_NUMBER_CHECKED] !== globalBlockNumber\n        )\n        .forEach(hash => {\n          library\n            .getTransactionReceipt(hash)\n            .then(receipt => {\n              if (!stale) {\n                if (!receipt) {\n                  check(networkId, hash, globalBlockNumber)\n                } else {\n                  finalize(networkId, hash, receipt)\n                }\n              }\n            })\n            .catch(() => {\n              check(networkId, hash, globalBlockNumber)\n            })\n        })\n\n      return () => {\n        stale = true\n      }\n    }\n  }, [networkId, library, allTransactions, globalBlockNumber, check, finalize])\n\n  return null\n}\n\nexport function useTransactionAdder() {\n  const { networkId } = useWeb3Context()\n\n  const [, { add }] = useTransactionsContext()\n\n  return useCallback(\n    (response, customData = {}) => {\n      if (!(networkId || networkId === 0)) {\n        throw Error(`Invalid networkId '${networkId}`)\n      }\n\n      const hash = safeAccess(response, ['hash'])\n\n      if (!hash) {\n        throw Error('No transaction hash found.')\n      }\n      add(networkId, hash, { ...response, [CUSTOM_DATA]: customData })\n    },\n    [networkId, add]\n  )\n}\n\nexport function useAllTransactions() {\n  const { networkId } = useWeb3Context()\n\n  const [state] = useTransactionsContext()\n\n  return safeAccess(state, [networkId]) || {}\n}\n\nexport function usePendingApproval(tokenAddress) {\n  const allTransactions = useAllTransactions()\n\n  return (\n    Object.keys(allTransactions).filter(hash => {\n      if (allTransactions[hash][RECEIPT]) {\n        return false\n      } else if (!allTransactions[hash][RESPONSE]) {\n        return false\n      } else if (allTransactions[hash][RESPONSE][CUSTOM_DATA].approval !== tokenAddress) {\n        return false\n      } else {\n        return true\n      }\n    }).length >= 1\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport { useWeb3Context, Connectors } from 'web3-react'\nimport styled from 'styled-components'\nimport { ethers } from 'ethers'\nimport { useTranslation } from 'react-i18next'\nimport { isMobile } from 'react-device-detect'\n\nimport { Spinner } from '../../theme'\nimport Circle from '../../assets/images/circle.svg'\n\nconst { Connector } = Connectors\n\nconst MessageWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 20rem;\n`\n\nconst Message = styled.h2`\n  color: ${({ theme }) => theme.uniswapBlue};\n`\n\nconst SpinnerWrapper = styled(Spinner)`\n  font-size: 4rem;\n\n  svg {\n    path {\n      color: ${({ theme }) => theme.uniswapBlue};\n    }\n  }\n`\n\nfunction tryToSetConnector(setConnector, setError) {\n  setConnector('Injected', { suppressAndThrowErrors: true }).catch(() => {\n    setConnector('Network', { suppressAndThrowErrors: true }).catch(error => {\n      setError(error)\n    })\n  })\n}\n\nexport default function Web3ReactManager({ children }) {\n  const { t } = useTranslation()\n  const { active, error, setConnector, setError } = useWeb3Context()\n  // control whether or not we render the error, after parsing\n  const blockRender = error && error.code && error.code === Connector.errorCodes.UNSUPPORTED_NETWORK\n\n  useEffect(() => {\n    if (!active && !error) {\n      if (window.ethereum || window.web3) {\n        if (isMobile) {\n          tryToSetConnector(setConnector, setError)\n        } else {\n          const library = new ethers.providers.Web3Provider(window.ethereum || window.web3)\n          library.listAccounts().then(accounts => {\n            if (accounts.length >= 1) {\n              tryToSetConnector(setConnector, setError)\n            } else {\n              setConnector('Network', { suppressAndThrowErrors: true }).catch(error => {\n                setError(error)\n              })\n            }\n          })\n        }\n      } else {\n        setConnector('Network', { suppressAndThrowErrors: true }).catch(error => {\n          setError(error)\n        })\n      }\n    }\n  })\n\n  // parse the error\n  useEffect(() => {\n    if (error) {\n      // if the user changes to the wrong network, unset the connector\n      if (error.code === Connector.errorCodes.UNSUPPORTED_NETWORK) {\n        setConnector('Network', { suppressAndThrowErrors: true }).catch(error => {\n          setError(error)\n        })\n      }\n    }\n  })\n\n  const [showLoader, setShowLoader] = useState(false)\n  useEffect(() => {\n    const timeout = setTimeout(() => {\n      setShowLoader(true)\n    }, 600)\n    return () => {\n      clearTimeout(timeout)\n    }\n  }, [])\n\n  if (blockRender) {\n    return null\n  } else if (error) {\n    return (\n      <MessageWrapper>\n        <Message>{t('unknownError')}</Message>\n      </MessageWrapper>\n    )\n  } else if (!active) {\n    return showLoader ? (\n      <MessageWrapper>\n        <SpinnerWrapper src={Circle} />\n      </MessageWrapper>\n    ) : null\n  } else {\n    return children\n  }\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport { useCopyClipboard } from '../../hooks'\n\nimport { Link } from '../../theme'\nimport { CheckCircle, Copy } from 'react-feather'\n\nconst CopyIcon = styled(Link)`\n  color: ${({ theme }) => theme.silverGray};\n  flex-shrink: 0;\n  margin-right: 1rem;\n  margin-left: 0.5rem;\n  text-decoration: none;\n  :hover,\n  :active,\n  :focus {\n    text-decoration: none;\n    color: ${({ theme }) => theme.doveGray};\n  }\n`\nconst TransactionStatusText = styled.span`\n  margin-left: 0.25rem;\n  ${({ theme }) => theme.flexRowNoWrap};\n  align-items: center;\n`\n\nexport default function CopyHelper({ toCopy }) {\n  const [isCopied, setCopied] = useCopyClipboard()\n\n  return (\n    <CopyIcon onClick={() => setCopied(toCopy)}>\n      {isCopied ? (\n        <TransactionStatusText>\n          <CheckCircle size={'16'} />\n          <TransactionStatusText>Copied</TransactionStatusText>\n        </TransactionStatusText>\n      ) : (\n        <TransactionStatusText>\n          <Copy size={'16'} />\n        </TransactionStatusText>\n      )}\n    </CopyIcon>\n  )\n}\n","import React from 'react'\nimport styled, { keyframes } from 'styled-components'\nimport { useWeb3Context } from 'web3-react'\nimport Copy from './Copy'\n\nimport { getEtherscanLink } from '../../utils'\nimport { Link, Spinner } from '../../theme'\nimport Circle from '../../assets/images/circle.svg'\nimport { Check } from 'react-feather'\n\nimport { transparentize } from 'polished'\n\nconst TransactionStatusWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  min-width: 12px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n`\n\nconst TransactionWrapper = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap}\n  justify-content: space-between;\n  width: 100%;\n  margin-top: 0.75rem;\n  a {\n    /* flex: 1 1 auto; */\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    min-width: 0;\n    max-width: 250px;\n  }\n`\n\nconst TransactionStatusText = styled.span`\n  margin-left: 0.5rem;\n`\n\nconst rotate = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n`\n\nconst TransactionState = styled.div`\n  display: flex;\n  background-color: ${({ pending, theme }) =>\n    pending ? transparentize(0.95, theme.royalBlue) : transparentize(0.95, theme.connectedGreen)};\n  border-radius: 1.5rem;\n  padding: 0.5rem 0.75rem;\n  font-weight: 500;\n  font-size: 0.75rem;\n  border: 1px solid;\n  border-color: ${({ pending, theme }) =>\n    pending ? transparentize(0.75, theme.royalBlue) : transparentize(0.75, theme.connectedGreen)};\n\n  #pending {\n    animation: 2s ${rotate} linear infinite;\n  }\n\n  :hover {\n    border-color: ${({ pending, theme }) =>\n      pending ? transparentize(0, theme.royalBlue) : transparentize(0, theme.connectedGreen)};\n  }\n`\nconst ButtonWrapper = styled.div`\n  a {\n    color: ${({ pending, theme }) => (pending ? theme.royalBlue : theme.connectedGreen)};\n  }\n`\n\nexport default function Transaction({ hash, pending }) {\n  const { networkId } = useWeb3Context()\n\n  return (\n    <TransactionWrapper key={hash}>\n      <TransactionStatusWrapper>\n        <Link href={getEtherscanLink(networkId, hash, 'transaction')}>{hash} ↗ </Link>\n        <Copy toCopy={hash} />\n      </TransactionStatusWrapper>\n      {pending ? (\n        <ButtonWrapper pending={pending}>\n          <Link href={getEtherscanLink(networkId, hash, 'transaction')}>\n            <TransactionState pending={pending}>\n              <Spinner src={Circle} id=\"pending\" />\n              <TransactionStatusText>Pending</TransactionStatusText>\n            </TransactionState>\n          </Link>\n        </ButtonWrapper>\n      ) : (\n        <ButtonWrapper pending={pending}>\n          <Link href={getEtherscanLink(networkId, hash, 'transaction')}>\n            <TransactionState pending={pending}>\n              <Check size=\"16\" />\n              <TransactionStatusText>Confirmed</TransactionStatusText>\n            </TransactionState>\n          </Link>\n        </ButtonWrapper>\n      )}\n    </TransactionWrapper>\n  )\n}\n","import React from 'react'\nimport styled, { css } from 'styled-components'\nimport { useWeb3Context } from 'web3-react'\n\nimport Transaction from './Transaction'\nimport Copy from './Copy'\nimport Modal from '../Modal'\n\nimport { getEtherscanLink } from '../../utils'\nimport { Link } from '../../theme'\n\nconst Wrapper = styled.div`\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  ${({ theme }) => theme.flexColumnNoWrap}\n`\n\nconst UpperSection = styled.div`\n  padding: 2rem;\n  background-color: ${({ theme }) => theme.concreteGray};\n\n  h5 {\n    margin: 0;\n    margin-bottom: 0.5rem;\n    font-size: 1rem;\n    font-weight: 400;\n  }\n\n  h5:last-child {\n    margin-bottom: 0px;\n  }\n\n  h4 {\n    margin-top: 0;\n    font-weight: 500;\n  }\n`\n\nconst YourAccount = styled.div`\n  h5 {\n    margin: 0 0 1rem 0;\n    font-weight: 400;\n    color: ${({ theme }) => theme.doveGray};\n  }\n\n  h4 {\n    margin: 0;\n    font-weight: 500;\n  }\n`\n\nconst LowerSection = styled.div`\n  ${({ theme }) => theme.flexColumnNoWrap}\n  padding: 2rem;\n  flex-grow: 1;\n  overflow: auto;\n\n  h5 {\n    margin: 0;\n    font-weight: 400;\n    color: ${({ theme }) => theme.doveGray};\n  }\n\n  div:last-child {\n    /* margin-bottom: 0; */\n  }\n`\n\nconst AccountControl = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap}\n  align-items: center;\n  min-width: 0;\n  \n  ${({ hasENS, isENS }) =>\n    hasENS &&\n    isENS &&\n    css`\n      margin-bottom: 0.75rem;\n    `}\n  font-weight: ${({ hasENS, isENS }) => (hasENS ? (isENS ? css`500` : css`400`) : css`500`)};\n  font-size: ${({ hasENS, isENS }) => (hasENS ? (isENS ? css`1rem` : css`0.8rem`) : css`1rem`)};\n\n  a:hover {\n    text-decoration: underline;\n  }\n\n  a {\n    min-width: 0;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n`\n\nconst TransactionListWrapper = styled.div`\n  ${({ theme }) => theme.flexColumnNoWrap} /* margin: 0 0 1rem 0; */\n`\n\nconst StyledLink = styled(Link)`\n  color: ${({ hasENS, isENS, theme }) => (hasENS ? (isENS ? theme.royalBlue : theme.doveGray) : theme.royalBlue)};\n`\n\n// function getErrorMessage(event) {\n//   switch (event.code) {\n//     case InjectedConnector.errorCodes.ETHEREUM_ACCESS_DENIED: {\n//       return 'Permission Required'\n//     }\n//     case InjectedConnector.errorCodes.UNLOCK_REQUIRED: {\n//       return 'Account Unlock Required'\n//     }\n//     case InjectedConnector.errorCodes.NO_WEB3: {\n//       return 'Not a Web3 Browser'\n//     }\n//     default: {\n//       return 'Connection Error'\n//     }\n//   }\n// }\n\nexport default function WalletModal({ isOpen, error, onDismiss, pendingTransactions, confirmedTransactions, ENSName }) {\n  const { account, networkId } = useWeb3Context()\n\n  function renderTransactions(transactions, pending) {\n    return (\n      <TransactionListWrapper>\n        {transactions.map((hash, i) => {\n          return <Transaction key={i} hash={hash} pending={pending} />\n        })}\n      </TransactionListWrapper>\n    )\n  }\n\n  function wrappedOnDismiss() {\n    onDismiss()\n  }\n\n  function getWalletDisplay() {\n    if (error) {\n      return (\n        <>\n          <UpperSection>\n            <h4>Wrong Network</h4>\n            <h5>Please connect to the main Ethereum network.</h5>\n          </UpperSection>\n        </>\n      )\n    } else if (account) {\n      return (\n        <>\n          <UpperSection>\n            <YourAccount>\n              <h5>Your Account</h5>\n              {ENSName && (\n                <AccountControl hasENS={!!ENSName} isENS={true}>\n                  <StyledLink hasENS={!!ENSName} isENS={true} href={getEtherscanLink(networkId, ENSName, 'address')}>\n                    {ENSName} ↗{' '}\n                  </StyledLink>\n\n                  <Copy toCopy={ENSName} />\n                </AccountControl>\n              )}\n\n              <AccountControl hasENS={!!ENSName} isENS={false}>\n                <StyledLink hasENS={!!ENSName} isENS={false} href={getEtherscanLink(networkId, account, 'address')}>\n                  {account} ↗{' '}\n                </StyledLink>\n\n                <Copy toCopy={account} />\n              </AccountControl>\n            </YourAccount>\n          </UpperSection>\n          {!!pendingTransactions.length || !!confirmedTransactions.length ? (\n            <LowerSection>\n              <h5>Recent Transactions</h5>\n              {renderTransactions(pendingTransactions, true)}\n              {renderTransactions(confirmedTransactions, false)}\n            </LowerSection>\n          ) : (\n            <LowerSection>\n              <h5>Your transactions will appear here...</h5>\n            </LowerSection>\n          )}\n        </>\n      )\n    } else {\n      return (\n        <>\n          <UpperSection>\n            <h4>No Ethereum account found</h4>\n            <h5>Please visit this page in a Web3 enabled browser.</h5>\n            <h5>\n              <Link href={'https://ethereum.org/use/#_3-what-is-a-wallet-and-which-one-should-i-use'}>\n                Learn more ↗\n              </Link>\n            </h5>\n          </UpperSection>\n        </>\n      )\n    }\n  }\n\n  return (\n    <Modal isOpen={isOpen} onDismiss={wrappedOnDismiss} minHeight={null}>\n      <Wrapper>{getWalletDisplay()}</Wrapper>\n    </Modal>\n  )\n}\n","import React, { useReducer, useEffect, useRef } from 'react'\nimport styled from 'styled-components'\nimport { useTranslation } from 'react-i18next'\nimport { useWeb3Context, Connectors } from 'web3-react'\nimport { darken, transparentize } from 'polished'\nimport Jazzicon from 'jazzicon'\nimport { ethers } from 'ethers'\nimport { Activity } from 'react-feather'\n\nimport { shortenAddress } from '../../utils'\nimport { useENSName } from '../../hooks'\nimport WalletModal from '../WalletModal'\nimport { useAllTransactions } from '../../contexts/Transactions'\nimport { Spinner } from '../../theme'\nimport Circle from '../../assets/images/circle.svg'\n\nconst { Connector } = Connectors\n\nconst Web3StatusGeneric = styled.button`\n  ${({ theme }) => theme.flexRowNoWrap}\n  width: 100%;\n  font-size: 0.9rem;\n  align-items: center;\n  padding: 0.5rem;\n  border-radius: 2rem;\n  box-sizing: border-box;\n  cursor: pointer;\n  user-select: none;\n  :focus {\n    outline: none;\n  }\n`\nconst Web3StatusError = styled(Web3StatusGeneric)`\n  background-color: ${({ theme }) => theme.salmonRed};\n  border: 1px solid ${({ theme }) => theme.salmonRed};\n  color: ${({ theme }) => theme.white};\n  font-weight: 500;\n  :hover,\n  :focus {\n    background-color: ${({ theme }) => darken(0.1, theme.salmonRed)};\n  }\n`\n\nconst Web3StatusConnect = styled(Web3StatusGeneric)`\n  background-color: ${({ theme }) => theme.royalBlue};\n  border: 1px solid ${({ theme }) => theme.royalBlue};\n  color: ${({ theme }) => theme.white};\n  font-weight: 500;\n\n  :hover,\n  :focus {\n    background-color: ${({ theme }) => darken(0.1, theme.royalBlue)};\n  }\n`\n\nconst Web3StatusConnected = styled(Web3StatusGeneric)`\n  background-color: ${({ pending, theme }) => (pending ? theme.zumthorBlue : theme.inputBackground)};\n  border: 1px solid ${({ pending, theme }) => (pending ? theme.royalBlue : theme.mercuryGray)};\n  color: ${({ pending, theme }) => (pending ? theme.royalBlue : theme.doveGray)};\n  font-weight: 400;\n  :hover {\n\n    /* > P {\n      color: ${({ theme }) => theme.uniswapPink};\n    } */\n    background-color: ${({ pending, theme }) =>\n      pending ? transparentize(0.9, theme.royalBlue) : darken(0.05, theme.inputBackground)};\n    \n  :focus {\n    border: 1px solid\n      ${({ pending, theme }) => (pending ? darken(0.1, theme.royalBlue) : darken(0.1, theme.mercuryGray))};\n  }\n`\n\nconst Text = styled.p`\n  flex: 1 1 auto;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  margin: 0 0.5rem 0 0.25rem;\n  font-size: 0.83rem;\n`\n\nconst Identicon = styled.div`\n  height: 1rem;\n  width: 1rem;\n  border-radius: 1.125rem;\n  background-color: ${({ theme }) => theme.silverGray};\n`\n\nconst NetworkIcon = styled(Activity)`\n  margin-left: 0.25rem;\n  margin-right: 0.5rem;\n  width: 16px;\n  height: 16px;\n`\n\nconst SpinnerWrapper = styled(Spinner)`\n  margin: 0 0.25rem 0 0.25rem;\n`\n\nconst walletModalInitialState = {\n  open: false,\n  error: undefined\n}\n\nconst WALLET_MODAL_ERROR = 'WALLET_MODAL_ERROR'\nconst WALLET_MODAL_OPEN = 'WALLET_MODAL_OPEN'\nconst WALLET_MODAL_OPEN_ERROR = 'WALLET_MODAL_OPEN_ERROR'\nconst WALLET_MODAL_CLOSE = 'WALLET_MODAL_CLOSE'\n\nfunction walletModalReducer(state, { type, payload }) {\n  switch (type) {\n    case WALLET_MODAL_ERROR: {\n      const { error } = payload\n      return { ...state, error }\n    }\n    case WALLET_MODAL_OPEN: {\n      return { ...state, open: true }\n    }\n    case WALLET_MODAL_OPEN_ERROR: {\n      const { error } = payload || {}\n      return { open: true, error }\n    }\n    case WALLET_MODAL_CLOSE: {\n      return { ...state, open: false }\n    }\n    default: {\n      throw Error(`Unexpected action type in walletModalReducer reducer: '${type}'.`)\n    }\n  }\n}\n\nexport default function Web3Status() {\n  const { t } = useTranslation()\n  const { active, account, connectorName, setConnector } = useWeb3Context()\n\n  const ENSName = useENSName(account)\n\n  const allTransactions = useAllTransactions()\n  const pending = Object.keys(allTransactions).filter(hash => !allTransactions[hash].receipt)\n  const confirmed = Object.keys(allTransactions).filter(hash => allTransactions[hash].receipt)\n\n  const hasPendingTransactions = !!pending.length\n\n  const [{ open: walletModalIsOpen, error: walletModalError }, dispatch] = useReducer(\n    walletModalReducer,\n    walletModalInitialState\n  )\n  function setError(error) {\n    dispatch({ type: WALLET_MODAL_ERROR, payload: { error } })\n  }\n  function openWalletModal(error) {\n    dispatch({ type: WALLET_MODAL_OPEN, ...(error ? { payload: { error } } : {}) })\n  }\n  function closeWalletModal() {\n    dispatch({ type: WALLET_MODAL_CLOSE })\n  }\n\n  // janky logic to detect log{ins,outs}...\n  useEffect(() => {\n    // if the injected connector is not active...\n    const { ethereum } = window\n    if (connectorName !== 'Injected') {\n      if (connectorName === 'Network' && ethereum && ethereum.on && ethereum.removeListener) {\n        function tryToActivateInjected() {\n          const library = new ethers.providers.Web3Provider(window.ethereum)\n          // if calling enable won't pop an approve modal, then try to activate injected...\n          library.listAccounts().then(accounts => {\n            if (accounts.length >= 1) {\n              setConnector('Injected', { suppressAndThrowErrors: true })\n                .then(() => {\n                  setError()\n                })\n                .catch(error => {\n                  // ...and if the error is that they're on the wrong network, display it, otherwise eat it\n                  if (error.code === Connector.errorCodes.UNSUPPORTED_NETWORK) {\n                    setError(error)\n                  }\n                })\n            }\n          })\n        }\n\n        ethereum.on('networkChanged', tryToActivateInjected)\n        ethereum.on('accountsChanged', tryToActivateInjected)\n\n        return () => {\n          if (ethereum.removeListener) {\n            ethereum.removeListener('networkChanged', tryToActivateInjected)\n            ethereum.removeListener('accountsChanged', tryToActivateInjected)\n          }\n        }\n      }\n    } else {\n      // ...poll to check the accounts array, and if it's ever 0 i.e. the user logged out, update the connector\n      if (ethereum) {\n        const accountPoll = setInterval(() => {\n          const library = new ethers.providers.Web3Provider(ethereum)\n          library.listAccounts().then(accounts => {\n            if (accounts.length === 0) {\n              setConnector('Network')\n            }\n          })\n        }, 750)\n\n        return () => {\n          clearInterval(accountPoll)\n        }\n      }\n    }\n  }, [connectorName, setConnector])\n\n  function onClick() {\n    if (walletModalError) {\n      openWalletModal()\n    } else if (connectorName === 'Network' && (window.ethereum || window.web3)) {\n      setConnector('Injected', { suppressAndThrowErrors: true }).catch(error => {\n        if (error.code === Connector.errorCodes.UNSUPPORTED_NETWORK) {\n          setError(error)\n        }\n      })\n    } else {\n      openWalletModal()\n    }\n  }\n\n  const ref = useRef()\n  useEffect(() => {\n    if (ref.current) {\n      ref.current.innerHTML = ''\n      if (account) {\n        ref.current.appendChild(Jazzicon(16, parseInt(account.slice(2, 10), 16)))\n      }\n    }\n  }, [account, walletModalError])\n\n  function getWeb3Status() {\n    if (walletModalError) {\n      // this is ok because we're guaranteed that the error is a wrong network error\n      return (\n        <Web3StatusError onClick={onClick}>\n          <NetworkIcon />\n          <Text>Wrong Network</Text>\n        </Web3StatusError>\n      )\n    } else if (!account) {\n      return (\n        <Web3StatusConnect onClick={onClick}>\n          <Text>{t('Connect')}</Text>\n        </Web3StatusConnect>\n      )\n    } else {\n      return (\n        <Web3StatusConnected onClick={onClick} pending={hasPendingTransactions}>\n          {hasPendingTransactions && <SpinnerWrapper src={Circle} alt=\"loader\" />}\n          <Text>{ENSName || shortenAddress(account)}</Text>\n          <Identicon ref={ref} />\n        </Web3StatusConnected>\n      )\n    }\n  }\n\n  return (\n    active && (\n      <>\n        {getWeb3Status()}\n        <WalletModal\n          isOpen={walletModalIsOpen}\n          error={walletModalError}\n          onDismiss={closeWalletModal}\n          ENSName={ENSName}\n          pendingTransactions={pending}\n          confirmedTransactions={confirmed}\n        />\n      </>\n    )\n  )\n}\n","import React from 'react'\nimport styled from 'styled-components'\n\nimport { Link } from '../../theme'\nimport LogoUnicorn from '../../assets/images/unicorn.svg'\nimport Web3Status from '../Web3Status'\nimport { darken } from 'polished'\n\nconst HeaderFrame = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n`\n\nconst HeaderElement = styled.div`\n  margin: 1.25rem;\n  display: flex;\n  min-width: 0;\n  display: flex;\n  align-items: center;\n`\n\nconst Nod = styled.div`\n  transform: rotate(0deg);\n  transition: transform 150ms ease-out;\n\n  :hover {\n    transform: rotate(-8deg);\n  }\n`\n\nconst Title = styled.div`\n  display: flex;\n  align-items: center;\n\n  :hover {\n    cursor: pointer;\n  }\n\n  #link {\n    text-decoration-color: ${({ theme }) => theme.UniswapBlue};\n  }\n\n  #title {\n    display: inline;\n    font-size: 1rem;\n    font-weight: 500;\n    color: ${({ theme }) => theme.uniswapBlue};\n    :hover {\n      color: ${({ theme }) => theme.uniswapDarkblue};\n    }\n  }\n`\n\nexport default function Header() {\n  return (\n    <HeaderFrame>\n      <HeaderElement>\n        <Title>\n          <Nod>\n            <Link id=\"link\" href=\"https://uniswap.ch\">\n              <img src={LogoUnicorn} alt=\"unicorn\" height=\"80px\" />\n            </Link>\n          </Nod>\n          <Link id=\"link\" href=\"https://uniswap.ch\">\n            <h1 id=\"title\">Uniswap.ch</h1>\n          </Link>\n        </Title>\n      </HeaderElement>\n      <HeaderElement>\n        <Web3Status />\n      </HeaderElement>\n    </HeaderFrame>\n  )\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport { darken, transparentize } from 'polished'\nimport Toggle from 'react-switch'\n\nimport { Link } from '../../theme'\nimport { useDarkModeManager } from '../../contexts/LocalStorage'\n\nconst FooterFrame = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n`\n\nconst FooterElement = styled.div`\n  margin: 1.25rem;\n  display: flex;\n  min-width: 0;\n  display: flex;\n  align-items: center;\n`\n\nconst Title = styled.div`\n  display: flex;\n  align-items: center;\n  color: ${({ theme }) => theme.uniswapBlue};\n\n  :hover {\n    cursor: pointer;\n  }\n  #link {\n    text-decoration-color: ${({ theme }) => theme.uniswapBlue};\n  }\n\n  #title {\n    display: inline;\n    font-size: 0.825rem;\n    margin-right: 12px;\n    font-weight: 400;\n    color: ${({ theme }) => theme.uniswapBlue};\n    :hover {\n      color: ${({ theme }) => theme.uniswapDarkblue};\n    }\n  }\n`\n\nconst StyledToggle = styled(Toggle)`\n  margin-right: 24px;\n\n  .react-switch-bg[style] {\n    background-color: ${({ theme }) => darken(0.05, theme.inputBackground)} !important;\n    border: 1px solid ${({ theme }) => theme.concreteGray} !important;\n  }\n\n  .react-switch-handle[style] {\n    background-color: ${({ theme }) => theme.inputBackground};\n    box-shadow: 0 4px 8px 0 ${({ theme }) => transparentize(0.93, theme.shadowColor)};\n    border: 1px solid ${({ theme }) => theme.mercuryGray};\n    border-color: ${({ theme }) => theme.mercuryGray} !important;\n    top: 2px !important;\n  }\n`\n\nconst EmojiToggle = styled.span`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  font-family: Arial sans-serif;\n`\n\nexport default function Footer() {\n  const [isDark, toggleDarkMode] = useDarkModeManager()\n\n  return (\n    <FooterFrame>\n      <FooterElement>\n        <Title>\n          <Link id=\"link\" href=\"https://uniswap.io/\">\n            <h1 id=\"title\">About</h1>\n          </Link>\n          <Link id=\"link\" href=\"https://docs.uniswap.io/\">\n            <h1 id=\"title\">Docs</h1>\n          </Link>\n          <Link id=\"link\" href=\"https://github.com/ChristophSiegenthaler/uniswap-frontend/\">\n            <h1 id=\"title\">Code</h1>\n          </Link>\n        </Title>\n      </FooterElement>\n\n      <StyledToggle\n        checked={!isDark}\n        uncheckedIcon={\n          <EmojiToggle role=\"img\" aria-label=\"moon\">\n            {/* eslint-disable-line jsx-a11y/accessible-emoji */}\n            🌙️\n          </EmojiToggle>\n        }\n        checkedIcon={\n          <EmojiToggle role=\"img\" aria-label=\"sun\">\n            {/* eslint-disable-line jsx-a11y/accessible-emoji */}\n            {'☀️'}\n          </EmojiToggle>\n        }\n        onChange={() => toggleDarkMode()}\n      />\n    </FooterFrame>\n  )\n}\n","import React, { useCallback } from 'react'\nimport { withRouter, NavLink } from 'react-router-dom'\nimport { useTranslation } from 'react-i18next'\nimport styled from 'styled-components'\nimport { transparentize, darken } from 'polished'\n\nimport { Link } from '../../theme/components'\n\nimport { useBodyKeyDown } from '../../hooks'\nimport { useAddressBalance } from '../../contexts/Balances'\nimport { isAddress } from '../../utils'\nimport {\n  useBetaMessageManager,\n  useSaiHolderMessageManager,\n  useGeneralDaiMessageManager\n} from '../../contexts/LocalStorage'\nimport { useWeb3Context } from 'web3-react'\n\nconst tabOrder = [\n  {\n    path: '/swap',\n    textKey: 'swap',\n    regex: /\\/swap/\n  },\n  {\n    path: '/send',\n    textKey: 'send',\n    regex: /\\/send/\n  },\n  {\n    path: 'add-liquidity',\n    textKey: 'pool',\n    regex: /\\/add-liquidity|\\/remove-liquidity|\\/create-exchange.*/\n  }\n]\n\nconst BetaMessage = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap}\n  cursor: pointer;\n  flex: 1 0 auto;\n  align-items: center;\n  position: relative;\n  padding: 0.5rem 1rem;\n  padding-right: 2rem;\n  margin-bottom: 1rem;\n  border: 1px solid ${({ theme }) => theme.uniswapDarkblue};\n  background-color: ${({ theme }) => theme.uniswapBlue};\n  border-radius: 1rem;\n  font-size: 0.75rem;\n  line-height: 1rem;\n  text-align: left;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  color: ${({ theme }) => theme.black};\n\n  &:after {\n    content: '✕';\n    top: 0.5rem;\n    right: 1rem;\n    position: absolute;\n    color: ${({ theme }) => theme.uniswapBlue};\n  }\n`\n\nconst DaiMessage = styled(BetaMessage)`\n  ${({ theme }) => theme.flexColumnNoWrap}\n  position: relative;\n  word-wrap: wrap;\n  overflow: visible;\n  white-space: normal;\n  padding: 1rem 1rem;\n  padding-right: 2rem;\n  line-height: 1.2rem;\n  cursor: default;\n  color: ${({ theme }) => theme.textColor};\n  div {\n    width: 100%;\n  }\n  &:after {\n    content: '';\n  }\n`\n\nconst CloseIcon = styled.div`\n  width: 10px !important;\n  top: 0.5rem;\n  right: 1rem;\n  position: absolute;\n  color: ${({ theme }) => theme.wisteriaPurple};\n  :hover {\n    cursor: pointer;\n  }\n`\n\nconst WarningHeader = styled.div`\n  margin-bottom: 10px;\n  font-weight: 500;\n  color: ${({ theme }) => theme.uniswapPink};\n`\n\nconst WarningFooter = styled.div`\n  margin-top: 10px;\n  font-size: 10px;\n  textdecoration: italic;\n  color: ${({ theme }) => theme.greyText};\n`\n\nconst Tabs = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap}\n  align-items: center;\n  height: 2.5rem;\n  background-color: ${({ theme }) => theme.concreteGray};\n  border-radius: 3rem;\n  /* border: 1px solid ${({ theme }) => theme.mercuryGray}; */\n  margin-bottom: 1rem;\n`\n\nconst activeClassName = 'ACTIVE'\n\nconst StyledNavLink = styled(NavLink).attrs({\n  activeClassName\n})`\n  ${({ theme }) => theme.flexRowNoWrap}\n  align-items: center;\n  justify-content: center;\n  height: 2.5rem;\n  border: 1px solid ${({ theme }) => transparentize(1, theme.mercuryGray)};\n  flex: 1 0 auto;\n  border-radius: 3rem;\n  outline: none;\n  cursor: pointer;\n  text-decoration: none;\n  color: ${({ theme }) => theme.doveGray};\n  font-size: 1rem;\n  box-sizing: border-box;\n\n  &.${activeClassName} {\n    background-color: ${({ theme }) => theme.inputBackground};\n    border-radius: 3rem;\n    border: 1px solid ${({ theme }) => theme.mercuryGray};\n    box-shadow: 0 4px 8px 0 ${({ theme }) => transparentize(0.95, theme.shadowColor)};\n    box-sizing: border-box;\n    font-weight: 500;\n    color: ${({ theme }) => theme.royalBlue};\n    :hover {\n      /* border: 1px solid ${({ theme }) => darken(0.1, theme.mercuryGray)}; */\n      background-color: ${({ theme }) => darken(0.01, theme.inputBackground)};\n    }\n  }\n\n  :hover,\n  :focus {\n    color: ${({ theme }) => darken(0.1, theme.royalBlue)};\n  }\n`\n\nfunction NavigationTabs({ location: { pathname }, history }) {\n  const { t } = useTranslation()\n\n  const [showBetaMessage, dismissBetaMessage] = useBetaMessageManager()\n\n  const [showGeneralDaiMessage, dismissGeneralDaiMessage] = useGeneralDaiMessageManager()\n\n  const [showSaiHolderMessage, dismissSaiHolderMessage] = useSaiHolderMessageManager()\n\n  const { account } = useWeb3Context()\n\n  const daiBalance = useAddressBalance(account, isAddress('0x89d24A6b4CcB1B6fAA2625fE562bDD9a23260359'))\n\n  const daiPoolTokenBalance = useAddressBalance(account, isAddress('0x09cabEC1eAd1c0Ba254B09efb3EE13841712bE14'))\n\n  const onLiquidityPage = pathname === '/pool' || pathname === '/add-liquidity' || pathname === '/remove-liquidity'\n\n  const navigate = useCallback(\n    direction => {\n      const tabIndex = tabOrder.findIndex(({ regex }) => pathname.match(regex))\n      history.push(tabOrder[(tabIndex + tabOrder.length + direction) % tabOrder.length].path)\n    },\n    [pathname, history]\n  )\n  const navigateRight = useCallback(() => {\n    navigate(1)\n  }, [navigate])\n  const navigateLeft = useCallback(() => {\n    navigate(-1)\n  }, [navigate])\n\n  useBodyKeyDown('ArrowRight', navigateRight)\n  useBodyKeyDown('ArrowLeft', navigateLeft)\n\n  const providerMessage =\n    showSaiHolderMessage && daiPoolTokenBalance && !daiPoolTokenBalance.isZero() && onLiquidityPage\n  const generalMessage = showGeneralDaiMessage && daiBalance && !daiBalance.isZero()\n\n  return (\n    <>\n      <Tabs>\n        {tabOrder.map(({ path, textKey, regex }) => (\n          <StyledNavLink key={path} to={path} isActive={(_, { pathname }) => pathname.match(regex)}>\n            {t(textKey)}\n          </StyledNavLink>\n        ))}\n      </Tabs>\n      {providerMessage && (\n        <DaiMessage>\n          <CloseIcon onClick={dismissSaiHolderMessage}>✕</CloseIcon>\n          <WarningHeader>Missing your DAI?</WarningHeader>\n          <div>\n            Don’t worry, check the{' '}\n            <Link href={'/remove-liquidity?poolTokenAddress=0x89d24A6b4CcB1B6fAA2625fE562bDD9a23260359'}>\n              SAI liquidity pool.\n            </Link>{' '}\n            Your old DAI is now SAI. If you want to migrate,{' '}\n            <Link href=\"/remove-liquidity?poolTokenAddress=0x89d24A6b4CcB1B6fAA2625fE562bDD9a23260359\">\n              remove your SAI liquidity,\n            </Link>{' '}\n            migrate using the <Link href=\"https://migrate.makerdao.com/\">migration tool</Link> then add your migrated\n            DAI to the{' '}\n            <Link href=\"add-liquidity?token=0x6B175474E89094C44Da98b954EedeAC495271d0F\">new DAI liquidity pool.</Link>\n          </div>\n          <WarningFooter>\n            <Link href=\"https://blog.makerdao.com/looking-ahead-how-to-upgrade-to-multi-collateral-dai/\">\n              Read more\n            </Link>{' '}\n            about this change on the official Maker blog.\n          </WarningFooter>\n        </DaiMessage>\n      )}\n      {generalMessage && !providerMessage && (\n        <DaiMessage>\n          <CloseIcon onClick={dismissGeneralDaiMessage}>✕</CloseIcon>\n          <WarningHeader>DAI has upgraded!</WarningHeader>\n          <div>\n            Your old DAI is now SAI. To upgrade use the{' '}\n            <Link href=\"https://migrate.makerdao.com/\">migration tool.</Link>\n          </div>\n        </DaiMessage>\n      )}\n      {showBetaMessage && (\n        <BetaMessage onClick={dismissBetaMessage}>\n          <span role=\"img\" aria-label=\"warning\">\n            💀\n          </span>{' '}\n          {t('betaWarning')}\n        </BetaMessage>\n      )}\n    </>\n  )\n}\n\nexport default withRouter(NavigationTabs)\n","import React, { Suspense, lazy } from 'react'\nimport styled from 'styled-components'\nimport { BrowserRouter, Redirect, Route, Switch } from 'react-router-dom'\n\nimport Web3ReactManager from '../components/Web3ReactManager'\nimport Header from '../components/Header'\nimport Footer from '../components/Footer'\n\nimport NavigationTabs from '../components/NavigationTabs'\nimport { isAddress, getAllQueryParams } from '../utils'\n\nconst Swap = lazy(() => import('./Swap'))\nconst Send = lazy(() => import('./Send'))\nconst Pool = lazy(() => import('./Pool'))\n\nconst AppWrapper = styled.div`\n  display: flex;\n  flex-flow: column;\n  align-items: flex-start;\n  height: 100vh;\n`\n\nconst HeaderWrapper = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap}\n  width: 100%;\n  justify-content: space-between;\n`\nconst FooterWrapper = styled.div`\n  width: 100%;\n  min-height: 30px;\n  align-self: flex-end;\n`\n\nconst BodyWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  justify-content: flex-start;\n  align-items: center;\n  flex: 1;\n  overflow: auto;\n`\n\nconst Body = styled.div`\n  max-width: 35rem;\n  width: 90%;\n  /* margin: 0 1.25rem 1.25rem 1.25rem; */\n`\n\nexport default function App() {\n  const params = getAllQueryParams()\n  return (\n    <>\n      <Suspense fallback={null}>\n        <AppWrapper>\n          <HeaderWrapper>\n            <Header />\n          </HeaderWrapper>\n          <BodyWrapper>\n            <Body>\n              <Web3ReactManager>\n                <BrowserRouter>\n                  <NavigationTabs />\n                  {/* this Suspense is for route code-splitting */}\n                  <Suspense fallback={null}>\n                    <Switch>\n                      <Route exact strict path=\"/swap\" component={() => <Swap params={params} />} />\n                      <Route\n                        exact\n                        strict\n                        path=\"/swap/:tokenAddress?\"\n                        render={({ match, location }) => {\n                          if (isAddress(match.params.tokenAddress)) {\n                            return (\n                              <Swap\n                                location={location}\n                                initialCurrency={isAddress(match.params.tokenAddress)}\n                                params={params}\n                              />\n                            )\n                          } else {\n                            return <Redirect to={{ pathname: '/swap' }} />\n                          }\n                        }}\n                      />\n                      <Route exact strict path=\"/send\" component={() => <Send params={params} />} />\n                      <Route\n                        exact\n                        strict\n                        path=\"/send/:tokenAddress?\"\n                        render={({ match, location }) => {\n                          if (isAddress(match.params.tokenAddress)) {\n                            return <Send initialCurrency={isAddress(match.params.tokenAddress)} params={params} />\n                          } else {\n                            return <Redirect to={{ pathname: '/send' }} />\n                          }\n                        }}\n                      />\n                      <Route\n                        path={[\n                          '/add-liquidity',\n                          '/remove-liquidity',\n                          '/create-exchange',\n                          '/create-exchange/:tokenAddress?'\n                        ]}\n                        component={() => <Pool params={params} />}\n                      />\n                      <Redirect to=\"/swap\" />\n                    </Switch>\n                  </Suspense>\n                </BrowserRouter>\n              </Web3ReactManager>\n            </Body>\n          </BodyWrapper>\n          <FooterWrapper>\n            <Footer />\n          </FooterWrapper>\n        </AppWrapper>\n      </Suspense>\n    </>\n  )\n}\n","import { ethers } from 'ethers'\nimport { Connectors } from 'web3-react'\n\nconst { Connector } = Connectors\n\nfunction getFallbackProvider(providerURL) {\n  if (Number(process.env.REACT_APP_NETWORK_ID) === 1) {\n    const etherscan = new ethers.providers.EtherscanProvider()\n    const infura = new ethers.providers.JsonRpcProvider(providerURL)\n\n    const providers = [infura, etherscan]\n\n    return new ethers.providers.FallbackProvider(providers)\n  } else {\n    const infura = new ethers.providers.JsonRpcProvider(providerURL)\n\n    const providers = [infura]\n\n    return new ethers.providers.FallbackProvider(providers)\n  }\n}\n\nexport default class NetworkOnlyConnector extends Connector {\n  constructor(kwargs) {\n    const { providerURL, ...rest } = kwargs || {}\n    super(rest)\n    this.providerURL = providerURL\n  }\n\n  async onActivation() {\n    if (!this.engine) {\n      const provider = getFallbackProvider(this.providerURL)\n      provider.polling = false\n      provider.pollingInterval = 300000 // 5 minutes\n      this.engine = provider\n    }\n  }\n\n  async getNetworkId(provider) {\n    const networkId = await provider.getNetwork().then(network => network.chainId)\n    return super._validateNetworkId(networkId)\n  }\n\n  async getProvider() {\n    return this.engine\n  }\n\n  async getAccount() {\n    return null\n  }\n}\n","import { Connectors } from 'web3-react'\nconst { Connector, ErrorCodeMixin } = Connectors\n\nconst InjectedConnectorErrorCodes = ['ETHEREUM_ACCESS_DENIED', 'NO_WEB3', 'UNLOCK_REQUIRED']\nexport default class InjectedConnector extends ErrorCodeMixin(Connector, InjectedConnectorErrorCodes) {\n  constructor(args = {}) {\n    super(args)\n    this.runOnDeactivation = []\n\n    this.networkChangedHandler = this.networkChangedHandler.bind(this)\n    this.accountsChangedHandler = this.accountsChangedHandler.bind(this)\n\n    const { ethereum } = window\n    if (ethereum && ethereum.isMetaMask) {\n      ethereum.autoRefreshOnNetworkChange = false\n    }\n  }\n\n  async onActivation() {\n    const { ethereum, web3 } = window\n\n    if (ethereum) {\n      await ethereum.enable().catch(error => {\n        const deniedAccessError = Error(error)\n        deniedAccessError.code = InjectedConnector.errorCodes.ETHEREUM_ACCESS_DENIED\n        throw deniedAccessError\n      })\n\n      // initialize event listeners\n      if (ethereum.on) {\n        ethereum.on('networkChanged', this.networkChangedHandler)\n        ethereum.on('accountsChanged', this.accountsChangedHandler)\n\n        this.runOnDeactivation.push(() => {\n          if (ethereum.removeListener) {\n            ethereum.removeListener('networkChanged', this.networkChangedHandler)\n            ethereum.removeListener('accountsChanged', this.accountsChangedHandler)\n          }\n        })\n      }\n    } else if (web3) {\n      console.warn('Your web3 provider is outdated, please upgrade to a modern provider.')\n    } else {\n      const noWeb3Error = Error('Your browser is not equipped with web3 capabilities.')\n      noWeb3Error.code = InjectedConnector.errorCodes.NO_WEB3\n      throw noWeb3Error\n    }\n  }\n\n  async getProvider() {\n    const { ethereum, web3 } = window\n    return ethereum || web3.currentProvider\n  }\n\n  async getAccount(provider) {\n    const account = await super.getAccount(provider)\n\n    if (account === null) {\n      const unlockRequiredError = Error('Ethereum account locked.')\n      unlockRequiredError.code = InjectedConnector.errorCodes.UNLOCK_REQUIRED\n      throw unlockRequiredError\n    }\n\n    return account\n  }\n\n  onDeactivation() {\n    this.runOnDeactivation.forEach(runner => runner())\n    this.runOnDeactivation = []\n  }\n\n  // event handlers\n  networkChangedHandler(networkId) {\n    const networkIdNumber = Number(networkId)\n\n    try {\n      super._validateNetworkId(networkIdNumber)\n\n      super._web3ReactUpdateHandler({\n        updateNetworkId: true,\n        networkId: networkIdNumber\n      })\n    } catch (error) {\n      super._web3ReactErrorHandler(error)\n    }\n  }\n\n  accountsChangedHandler(accounts) {\n    if (!accounts[0]) {\n      const unlockRequiredError = Error('Ethereum account locked.')\n      unlockRequiredError.code = InjectedConnector.errorCodes.UNLOCK_REQUIRED\n      super._web3ReactErrorHandler(unlockRequiredError)\n    } else {\n      super._web3ReactUpdateHandler({\n        updateAccount: true,\n        account: accounts[0]\n      })\n    }\n  }\n}\n","import i18next from 'i18next'\nimport { initReactI18next } from 'react-i18next'\nimport XHR from 'i18next-xhr-backend'\nimport LanguageDetector from 'i18next-browser-languagedetector'\n\ni18next\n  .use(XHR)\n  .use(LanguageDetector)\n  .use(initReactI18next)\n  .init({\n    backend: {\n      loadPath: '/locales/{{lng}}.json'\n    },\n    react: {\n      useSuspense: true\n    },\n    fallbackLng: 'en',\n    preload: ['en'],\n    keySeparator: false,\n    interpolation: { escapeValue: false }\n  })\n\nexport default i18next\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport ReactGA from 'react-ga'\nimport Web3Provider from 'web3-react'\n\nimport ThemeProvider, { GlobalStyle } from './theme'\nimport LocalStorageContextProvider, { Updater as LocalStorageContextUpdater } from './contexts/LocalStorage'\nimport ApplicationContextProvider, { Updater as ApplicationContextUpdater } from './contexts/Application'\nimport TransactionContextProvider, { Updater as TransactionContextUpdater } from './contexts/Transactions'\nimport TokensContextProvider from './contexts/Tokens'\nimport BalancesContextProvider from './contexts/Balances'\nimport AllowancesContextProvider from './contexts/Allowances'\nimport AllBalancesContextProvider from './contexts/AllBalances'\n\nimport App from './pages/App'\nimport NetworkOnlyConnector from './NetworkOnlyConnector'\nimport InjectedConnector from './InjectedConnector'\n\nimport './i18n'\n\nif (process.env.NODE_ENV === 'production') {\n  ReactGA.initialize('UA-129672728-1')\n} else {\n  ReactGA.initialize('test', { testMode: true })\n}\nReactGA.pageview(window.location.pathname + window.location.search)\n\nconst Network = new NetworkOnlyConnector({ providerURL: process.env.REACT_APP_NETWORK_URL || '' })\nconst Injected = new InjectedConnector({ supportedNetworks: [Number(process.env.REACT_APP_NETWORK_ID || '1')] })\nconst connectors = { Injected, Network }\n\nfunction ContextProviders({ children }) {\n  return (\n    <LocalStorageContextProvider>\n      <ApplicationContextProvider>\n        <TransactionContextProvider>\n          <TokensContextProvider>\n            <BalancesContextProvider>\n              <AllBalancesContextProvider>\n                <AllowancesContextProvider>{children}</AllowancesContextProvider>\n              </AllBalancesContextProvider>\n            </BalancesContextProvider>\n          </TokensContextProvider>\n        </TransactionContextProvider>\n      </ApplicationContextProvider>\n    </LocalStorageContextProvider>\n  )\n}\n\nfunction Updaters() {\n  return (\n    <>\n      <LocalStorageContextUpdater />\n      <ApplicationContextUpdater />\n      <TransactionContextUpdater />\n    </>\n  )\n}\n\nReactDOM.render(\n  <Web3Provider connectors={connectors} libraryName=\"ethers.js\">\n    <ContextProviders>\n      <Updaters />\n      <ThemeProvider>\n        <>\n          <GlobalStyle />\n          <App />\n        </>\n      </ThemeProvider>\n    </ContextProviders>\n  </Web3Provider>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}